
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>10.3. energy &#8212; EVerest  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinxdoc.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/contentui.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/contentui.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="10.4. energy_price_information" href="energy_price_information.html" />
    <link rel="prev" title="10.2. board_support" href="board_support.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="energy_price_information.html" title="10.4. energy_price_information"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="board_support.html" title="10.2. board_support"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">EVerest  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../everest_types.html" accesskey="U"><span class="section-number">10. </span>EVerest Types</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">10.3. </span>energy</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="energy">
<span id="everest-types-energy"></span><h1><span class="section-number">10.3. </span>energy<a class="headerlink" href="#energy" title="Permalink to this heading">Â¶</a></h1>
<p>Energy import/export capability/limit types</p>
<div class="line-block" id="energy-nodetype">
<div class="line"><strong>NodeType</strong>:<em>string</em></div>
<div class="line-block">
<div class="line">Enum Type for different Nodes on the energy tree</div>
<div class="line">enum: Undefined, Evse, Generic</div>
</div>
</div>
<div class="line-block" id="energy-limitsreq">
<div class="line"><strong>LimitsReq</strong>:<em>object</em></div>
<div class="line-block">
<div class="line">Energy flow limiting object request (Evses to EnergyManager)</div>
<div class="line">properties:</div>
<div class="line-block">
<div class="line"><strong>total_power_W</strong>:<em>number</em></div>
<div class="line-block">
<div class="line">Total power limit in Watt. Can be used for DC or as additional limit for AC.</div>
</div>
<div class="line"><strong>ac_max_current_A</strong>:<em>number</em></div>
<div class="line-block">
<div class="line">Max current limit (per phase) in Ampere. AC only.</div>
</div>
<div class="line"><strong>ac_min_current_A</strong>:<em>number</em></div>
<div class="line-block">
<div class="line">Min AC current limit per phase in Ampere. Values below that value indicate the  device will not work properly, i.e. it will not charge below 6 amps. AC only.</div>
</div>
<div class="line"><strong>ac_max_phase_count</strong>:<em>integer</em></div>
<div class="line-block">
<div class="line">Limit to number of phases. Omit if number of phases are not limited.</div>
</div>
<div class="line"><strong>ac_min_phase_count</strong>:<em>integer</em></div>
<div class="line-block">
<div class="line">Minimal number of phases. Omit if number of phases are not limited.</div>
</div>
<div class="line"><strong>ac_supports_changing_phases_during_charging</strong>:<em>boolean</em></div>
<div class="line-block">
<div class="line">Indicate whether phase switching is allowed during charging or not</div>
</div>
</div>
</div>
</div>
<div class="line-block" id="energy-limitsres">
<div class="line"><strong>LimitsRes</strong>:<em>object</em></div>
<div class="line-block">
<div class="line">Energy flow limiting object Result (Energy manager to Evses)</div>
<div class="line">properties:</div>
<div class="line-block">
<div class="line"><strong>total_power_W</strong>:<em>number</em></div>
<div class="line-block">
<div class="line">Total power limit in Watt. Can be used for DC or as additional limit for AC. Negative numbers mean export to grid direction.</div>
</div>
<div class="line"><strong>ac_max_current_A</strong>:<em>number</em></div>
<div class="line-block">
<div class="line">Max current limit (per phase) in Ampere. AC only. Negative numbers mean export to grid direction.</div>
</div>
<div class="line"><strong>ac_max_phase_count</strong>:<em>integer</em></div>
<div class="line-block">
<div class="line">Limit to number of phases. Omit if number of phases are not limited.</div>
</div>
</div>
</div>
</div>
<div class="line-block" id="energy-optimizertarget">
<div class="line"><strong>OptimizerTarget</strong>:<em>object</em></div>
<div class="line-block">
<div class="line">User defined optimizer targets for this evse</div>
<div class="line">properties:</div>
<div class="line-block">
<div class="line"><strong>energy_amount_needed</strong>:<em>number</em></div>
<div class="line-block">
<div class="line">Amount of kwh the car needs to fulfill its charging target</div>
</div>
<div class="line"><strong>charge_to_max_percent</strong>:<em>number</em></div>
<div class="line-block">
<div class="line">Charge car battery to max NN percent</div>
</div>
<div class="line"><strong>car_battery_soc</strong>:<em>number</em></div>
<div class="line-block">
<div class="line">Car battery State Of Charge in percent</div>
</div>
<div class="line"><strong>leave_time</strong>:<em>string</em></div>
<div class="line-block">
<div class="line">RFC3339 UTC format time when the car needs to drive away with charging targets fullfilled. Will charge cheapest within this timeframe.</div>
</div>
<div class="line"><strong>price_limit</strong>:<em>number</em></div>
<div class="line-block">
<div class="line">Always charge if price below this limit. This includes solar charging and price for solar energy if price levels set correctly.</div>
</div>
<div class="line"><strong>full_autonomy</strong>:<em>boolean</em></div>
<div class="line-block">
<div class="line">Only charge from locally generated energy. Do not draw power from grid for charging.</div>
</div>
</div>
</div>
</div>
<div class="line-block" id="energy-schedulereqentry">
<div class="line"><strong>ScheduleReqEntry</strong>:<em>object</em></div>
<div class="line-block">
<div class="line">One entry for the time series (request)</div>
<div class="line">required: timestamp, limits_to_root, limits_to_leaves</div>
<div class="line">properties:</div>
<div class="line-block">
<div class="line"><strong>timestamp</strong>:<em>string</em></div>
<div class="line-block">
<div class="line">Absolute timestamp for this sample in RFC3339 UTC format</div>
<div class="line">format:</div>
</div>
<div class="line"><strong>limits_to_root</strong>:<em>object</em> (<a class="reference internal" href="#energy-limitsreq"><span class="std std-ref">energy-LimitsReq</span></a>)</div>
<div class="line-block">
<div class="line">Limit for this timestamp, for the root facing side</div>
<div class="line"><strong>There is an extended definition for this object</strong> <a class="reference internal" href="#energy-limitsreq"><span class="std std-ref">here</span></a>.</div>
</div>
<div class="line"><strong>limits_to_leaves</strong>:<em>object</em> (<a class="reference internal" href="#energy-limitsreq"><span class="std std-ref">energy-LimitsReq</span></a>)</div>
<div class="line-block">
<div class="line">Limit for this timestamp, for the leaves facing side</div>
<div class="line"><strong>There is an extended definition for this object</strong> <a class="reference internal" href="#energy-limitsreq"><span class="std std-ref">here</span></a>.</div>
</div>
<div class="line"><strong>conversion_efficiency</strong>:<em>number</em></div>
<div class="line-block">
<div class="line">Conversion efficiency from root to leaves side (e.g. AC/DC efficiency). Defaults to one if not specified.</div>
</div>
<div class="line"><strong>price_per_kwh</strong>:<em>object</em> (<a class="reference internal" href="energy_price_information.html#energy-price-information-priceperkwh"><span class="std std-ref">energy_price_information-PricePerkWh</span></a>)</div>
<div class="line-block">
<div class="line">Price information for this timepoint</div>
<div class="line"><strong>There is an extended definition for this object</strong> <a class="reference internal" href="energy_price_information.html#energy-price-information-priceperkwh"><span class="std std-ref">here</span></a>.</div>
</div>
</div>
</div>
</div>
<div class="line-block" id="energy-scheduleresentry">
<div class="line"><strong>ScheduleResEntry</strong>:<em>object</em></div>
<div class="line-block">
<div class="line">One entry for the time series (result)</div>
<div class="line">required: timestamp, limits_to_root</div>
<div class="line">properties:</div>
<div class="line-block">
<div class="line"><strong>timestamp</strong>:<em>string</em></div>
<div class="line-block">
<div class="line">Absolute timestamp for this sample in RFC3339 UTC format</div>
<div class="line">format:</div>
</div>
<div class="line"><strong>limits_to_root</strong>:<em>object</em> (<a class="reference internal" href="#energy-limitsres"><span class="std std-ref">energy-LimitsRes</span></a>)</div>
<div class="line-block">
<div class="line">Limit for this timestamp, for the root facing side</div>
<div class="line"><strong>There is an extended definition for this object</strong> <a class="reference internal" href="#energy-limitsres"><span class="std std-ref">here</span></a>.</div>
</div>
<div class="line"><strong>price_per_kwh</strong>:<em>object</em> (<a class="reference internal" href="energy_price_information.html#energy-price-information-priceperkwh"><span class="std std-ref">energy_price_information-PricePerkWh</span></a>)</div>
<div class="line-block">
<div class="line">Price information for this timepoint</div>
<div class="line"><strong>There is an extended definition for this object</strong> <a class="reference internal" href="energy_price_information.html#energy-price-information-priceperkwh"><span class="std std-ref">here</span></a>.</div>
</div>
</div>
</div>
</div>
<div class="line-block" id="energy-energyflowrequest">
<div class="line"><strong>EnergyFlowRequest</strong>:<em>object</em></div>
<div class="line-block">
<div class="line">Request energy flow parameters to supply/limit energy import (direction from grid to car) and/or consume/limit energy export (car to grid) at a specific point in the tree</div>
<div class="line">required: uuid, children, node_type</div>
<div class="line">properties:</div>
<div class="line-block">
<div class="line"><strong>children</strong>:<em>array</em></div>
<div class="line-block">
<div class="line">Array of child node energy flow requests (in the direction to consumer/car</div>
<div class="line">items:</div>
<div class="line-block">
<div class="line">description:</div>
<div class="line">type:</div>
<div class="line">$ref:</div>
</div>
</div>
<div class="line"><strong>uuid</strong>:<em>string</em></div>
<div class="line-block">
<div class="line">UUID for this node. This UUID will be used again when enforce_limits() command propagates through the tree.</div>
</div>
<div class="line"><strong>node_type</strong>:<em>string</em> (<a class="reference internal" href="#energy-nodetype"><span class="std std-ref">energy-NodeType</span></a>)</div>
<div class="line-block">
<div class="line">Node Type Enum</div>
<div class="line"><strong>There is an extended definition for this object</strong> <a class="reference internal" href="#energy-nodetype"><span class="std std-ref">here</span></a>.</div>
</div>
<div class="line"><strong>optimizer_target</strong>:<em>object</em> (<a class="reference internal" href="#energy-optimizertarget"><span class="std std-ref">energy-OptimizerTarget</span></a>)</div>
<div class="line-block">
<div class="line">User defined optimizer targets for this evse</div>
<div class="line"><strong>There is an extended definition for this object</strong> <a class="reference internal" href="#energy-optimizertarget"><span class="std std-ref">here</span></a>.</div>
</div>
<div class="line"><strong>energy_usage_root</strong>:<em>object</em> (<a class="reference internal" href="powermeter.html#powermeter-powermeter"><span class="std std-ref">powermeter-Powermeter</span></a>)</div>
<div class="line-block">
<div class="line">Energy usage measurement of this node at root side</div>
<div class="line"><strong>There is an extended definition for this object</strong> <a class="reference internal" href="powermeter.html#powermeter-powermeter"><span class="std std-ref">here</span></a>.</div>
</div>
<div class="line"><strong>energy_usage_leaves</strong>:<em>object</em> (<a class="reference internal" href="powermeter.html#powermeter-powermeter"><span class="std std-ref">powermeter-Powermeter</span></a>)</div>
<div class="line-block">
<div class="line">Energy usage measurement of this node at leaves side</div>
<div class="line"><strong>There is an extended definition for this object</strong> <a class="reference internal" href="powermeter.html#powermeter-powermeter"><span class="std std-ref">here</span></a>.</div>
</div>
<div class="line"><strong>schedule_import</strong>:<em>array</em></div>
<div class="line-block">
<div class="line">Energy import/limits time series. The first entry is special as it will be active already now even if the timestamp is in the future, so it is good practice to set the first entry to current time. The time series can have arbitrary time difference between entries and all timestamps are absolute UTC time.</div>
<div class="line">items:</div>
<div class="line-block">
<div class="line">description:</div>
<div class="line">type:</div>
<div class="line">$ref:</div>
</div>
</div>
<div class="line"><strong>schedule_export</strong>:<em>array</em></div>
<div class="line-block">
<div class="line">Energy export/limits time series. The first entry is special as it will be active already now even if the timestamp is in the future, so it is good practice to set the first entry to current time. The time series can have arbitrary time difference between entries and all timestamps are absolute UTC time.</div>
<div class="line">items:</div>
<div class="line-block">
<div class="line">description:</div>
<div class="line">type:</div>
<div class="line">$ref:</div>
</div>
</div>
</div>
</div>
</div>
<div class="line-block" id="energy-enforcedlimits">
<div class="line"><strong>EnforcedLimits</strong>:<em>object</em></div>
<div class="line-block">
<div class="line">Enforce Limits data type</div>
<div class="line">required: uuid, valid_until</div>
<div class="line">properties:</div>
<div class="line-block">
<div class="line"><strong>uuid</strong>:<em>string</em></div>
<div class="line-block">
<div class="line">UUID of node that this limit applies to</div>
</div>
<div class="line"><strong>valid_until</strong>:<em>string</em></div>
<div class="line-block">
<div class="line">Limits are valid until this timepoint in RFC3339 UTC. If no new update is received, power consumption must be stopped afer that timepoint.</div>
<div class="line">format:</div>
</div>
<div class="line"><strong>limits_root_side</strong>:<em>object</em> (<a class="reference internal" href="#energy-limitsres"><span class="std std-ref">energy-LimitsRes</span></a>)</div>
<div class="line-block">
<div class="line">Enforced limits that must be respected at the root side.</div>
<div class="line"><strong>There is an extended definition for this object</strong> <a class="reference internal" href="#energy-limitsres"><span class="std std-ref">here</span></a>.</div>
</div>
<div class="line"><strong>schedule</strong>:<em>array</em></div>
<div class="line-block">
<div class="line">Informative only. Do not use for actual limiting. Energy import/export limits time series. The first entry is special as it will be active already now even if the timestamp is in the future, so it is good practice to set the first entry to current time. The time series can have arbitrary time difference between entries and all timestamps are absolute UTC time.</div>
<div class="line">items:</div>
<div class="line-block">
<div class="line">description:</div>
<div class="line">type:</div>
<div class="line">$ref:</div>
</div>
</div>
</div>
</div>
</div>
<div class="line-block" id="energy-externallimits">
<div class="line"><strong>ExternalLimits</strong>:<em>object</em></div>
<div class="line-block">
<div class="line">External Limits data type</div>
<div class="line">properties:</div>
<div class="line-block">
<div class="line"><strong>schedule_import</strong>:<em>array</em></div>
<div class="line-block">
<div class="line">Energy import/limits time series. The first entry is special as it will be active already now even if the timestamp is in the future, so it is good practice to set the first entry to current time. The time series can have arbitrary time difference between entries and all timestamps are absolute UTC time.  The last entry is valid for any time after the schedule ends.</div>
<div class="line">items:</div>
<div class="line-block">
<div class="line">description:</div>
<div class="line">type:</div>
<div class="line">$ref:</div>
</div>
</div>
<div class="line"><strong>schedule_export</strong>:<em>array</em></div>
<div class="line-block">
<div class="line">Energy export/limits time series. The first entry is special as it will be active already now even if the timestamp is in the future, so it is good practice to set the first entry to current time. The time series can have arbitrary time difference between entries and all timestamps are absolute UTC time. The last entry is valid for any time after the schedule ends.</div>
<div class="line">items:</div>
<div class="line-block">
<div class="line">description:</div>
<div class="line">type:</div>
<div class="line">$ref:</div>
</div>
</div>
</div>
</div>
</div>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="board_support.html"
                          title="previous chapter"><span class="section-number">10.2. </span>board_support</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="energy_price_information.html"
                          title="next chapter"><span class="section-number">10.4. </span>energy_price_information</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/generated/types/energy.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="energy_price_information.html" title="10.4. energy_price_information"
             >next</a> |</li>
        <li class="right" >
          <a href="board_support.html" title="10.2. board_support"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">EVerest  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../everest_types.html" ><span class="section-number">10. </span>EVerest Types</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">10.3. </span>energy</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Pionix GmbH.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 6.1.3.
    </div>
  </body>
</html>