<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ocpp: ocpp::v201::ComponentStateManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ocpp<span id="projectnumber">&#160;0.21.0</span>
   </div>
   <div id="projectbrief">A C++ implementation of the Open Charge Point Protocol</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>ocpp</b></li><li class="navelem"><b>v201</b></li><li class="navelem"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html">ComponentStateManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classocpp_1_1v201_1_1ComponentStateManager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ocpp::v201::ComponentStateManager Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Stores and monitors operational/effective states of the CS, EVSEs, and connectors.  
 <a href="classocpp_1_1v201_1_1ComponentStateManager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="component__state__manager_8hpp_source.html">component_state_manager.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ocpp::v201::ComponentStateManager:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classocpp_1_1v201_1_1ComponentStateManager.png" usemap="#ocpp::v201::ComponentStateManager_map" alt=""/>
  <map id="ocpp::v201::ComponentStateManager_map" name="ocpp::v201::ComponentStateManager_map">
<area href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html" alt="ocpp::v201::ComponentStateManagerInterface" shape="rect" coords="0,0,272,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8e064475a02f8d8a0dbb318b4579bf63"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#a8e064475a02f8d8a0dbb318b4579bf63">ComponentStateManager</a> (const std::map&lt; int32_t, int32_t &gt; &amp;evse_connector_structure, std::shared_ptr&lt; <a class="el" href="classocpp_1_1v201_1_1DatabaseHandler.html">DatabaseHandler</a> &gt; db_handler, std::function&lt; bool(const int32_t evse_id, const int32_t connector_id, const ConnectorStatusEnum new_status, const bool initiated_by_trigger_message)&gt; send_connector_status_notification_callback)</td></tr>
<tr class="memdesc:a8e064475a02f8d8a0dbb318b4579bf63"><td class="mdescLeft">&#160;</td><td class="mdescRight">At construction time, the state of each component (CS, EVSEs, and connectors) is retrieved from the database. No callbacks are triggered at this stage. When the status of components is updated, corresponding callbacks are triggered to notify the user of libocpp. Additionally, the <a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html" title="Stores and monitors operational/effective states of the CS, EVSEs, and connectors.">ComponentStateManager</a> sends StatusNotifications to the CSMS when connector statuses change. Note: It is expected that <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a5d54adcfc6d803f7e88b725b4169811b" title="Call the {cs, evse, connector}_effective_availability_changed_callback callback once for every compon...">ComponentStateManagerInterface::trigger_all_effective_availability_changed_callbacks</a> is called on boot, and <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#aa40123dbaef9db482ab4009aefdba931" title="Call the send_connector_status_notification_callback once for every connector. This is usually done o...">ComponentStateManagerInterface::send_status_notification_all_connectors</a> is called when first connected to the CSMS.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#a8e064475a02f8d8a0dbb318b4579bf63">More...</a><br /></td></tr>
<tr class="separator:a8e064475a02f8d8a0dbb318b4579bf63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3536017f3bad1dea5c24c75982545c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#af3536017f3bad1dea5c24c75982545c5">set_cs_effective_availability_changed_callback</a> (const std::function&lt; void(const OperationalStatusEnum new_status)&gt; &amp;callback)</td></tr>
<tr class="memdesc:af3536017f3bad1dea5c24c75982545c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a callback to be called when the effective Operative/Inoperative state of the CS changes.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#af3536017f3bad1dea5c24c75982545c5">More...</a><br /></td></tr>
<tr class="separator:af3536017f3bad1dea5c24c75982545c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afab8dea2c4e196e143c92d071922b803"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#afab8dea2c4e196e143c92d071922b803">set_evse_effective_availability_changed_callback</a> (const std::function&lt; void(const int32_t evse_id, const OperationalStatusEnum new_status)&gt; &amp;callback)</td></tr>
<tr class="memdesc:afab8dea2c4e196e143c92d071922b803"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a callback to be called when the effective Operative/Inoperative state of an <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> changes.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#afab8dea2c4e196e143c92d071922b803">More...</a><br /></td></tr>
<tr class="separator:afab8dea2c4e196e143c92d071922b803"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e34a0f5aedb5340599704129cc71358"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#a5e34a0f5aedb5340599704129cc71358">set_connector_effective_availability_changed_callback</a> (const std::function&lt; void(const int32_t evse_id, const int32_t connector_id, const OperationalStatusEnum new_status)&gt; &amp;callback)</td></tr>
<tr class="memdesc:a5e34a0f5aedb5340599704129cc71358"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a callback to be called when the effective Operative/Inoperative state of a connector changes.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#a5e34a0f5aedb5340599704129cc71358">More...</a><br /></td></tr>
<tr class="separator:a5e34a0f5aedb5340599704129cc71358"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0490ee7e2875ee41925ebbb623db9cd6"><td class="memItemLeft" align="right" valign="top">OperationalStatusEnum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#a0490ee7e2875ee41925ebbb623db9cd6">get_cs_individual_operational_status</a> ()</td></tr>
<tr class="memdesc:a0490ee7e2875ee41925ebbb623db9cd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the individual status (Operative/Inoperative) of the CS, as set by the CSMS.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#a0490ee7e2875ee41925ebbb623db9cd6">More...</a><br /></td></tr>
<tr class="separator:a0490ee7e2875ee41925ebbb623db9cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6133365ff78f320e44f25d33efc5899a"><td class="memItemLeft" align="right" valign="top">OperationalStatusEnum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#a6133365ff78f320e44f25d33efc5899a">get_evse_individual_operational_status</a> (int32_t evse_id)</td></tr>
<tr class="memdesc:a6133365ff78f320e44f25d33efc5899a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the individual status (Operative/Inoperative) of an <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a>, as set by the CSMS Note: This is not the same as the effective status. The <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> might be effectively Inoperative if the CS is Inoperative.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#a6133365ff78f320e44f25d33efc5899a">More...</a><br /></td></tr>
<tr class="separator:a6133365ff78f320e44f25d33efc5899a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0bcb54b25e6faa72d5c713a3211f57c"><td class="memItemLeft" align="right" valign="top">OperationalStatusEnum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#ac0bcb54b25e6faa72d5c713a3211f57c">get_connector_individual_operational_status</a> (int32_t evse_id, int32_t connector_id)</td></tr>
<tr class="memdesc:ac0bcb54b25e6faa72d5c713a3211f57c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the individual status (Operative/Inoperative) of a connector, as set by the CSMS Note: This is not the same as the effective status. The connector might be effectively Inoperative if its <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> or the CS is Inoperative.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#ac0bcb54b25e6faa72d5c713a3211f57c">More...</a><br /></td></tr>
<tr class="separator:ac0bcb54b25e6faa72d5c713a3211f57c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55cc4491690659851156b5147953e330"><td class="memItemLeft" align="right" valign="top">OperationalStatusEnum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#a55cc4491690659851156b5147953e330">get_cs_persisted_operational_status</a> ()</td></tr>
<tr class="memdesc:a55cc4491690659851156b5147953e330"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the individual status (Operative/Inoperative) of the CS, as persisted in the database This status is restored after reboot, and differs from the individual status if non-persistent status changes were made.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#a55cc4491690659851156b5147953e330">More...</a><br /></td></tr>
<tr class="separator:a55cc4491690659851156b5147953e330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65c0c81a89da31f82d272e6a4cc27c1f"><td class="memItemLeft" align="right" valign="top">OperationalStatusEnum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#a65c0c81a89da31f82d272e6a4cc27c1f">get_evse_persisted_operational_status</a> (int32_t evse_id)</td></tr>
<tr class="memdesc:a65c0c81a89da31f82d272e6a4cc27c1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the individual status (Operative/Inoperative) of an <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a>, as persisted in the database This status is restored after reboot, and differs from the individual status if non-persistent status changes were made.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#a65c0c81a89da31f82d272e6a4cc27c1f">More...</a><br /></td></tr>
<tr class="separator:a65c0c81a89da31f82d272e6a4cc27c1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21ab01cc5c77eeb477283a80a96dfee0"><td class="memItemLeft" align="right" valign="top">OperationalStatusEnum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#a21ab01cc5c77eeb477283a80a96dfee0">get_connector_persisted_operational_status</a> (int32_t evse_id, int32_t connector_id)</td></tr>
<tr class="memdesc:a21ab01cc5c77eeb477283a80a96dfee0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the individual status (Operative/Inoperative) of a connector, as persisted in the database This status is restored after reboot, and differs from the individual status if non-persistent status changes were made.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#a21ab01cc5c77eeb477283a80a96dfee0">More...</a><br /></td></tr>
<tr class="separator:a21ab01cc5c77eeb477283a80a96dfee0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5544166752b809fb225645303970a939"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#a5544166752b809fb225645303970a939">set_cs_individual_operational_status</a> (OperationalStatusEnum new_status, bool persist)</td></tr>
<tr class="memdesc:a5544166752b809fb225645303970a939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the individual status (Operative/Inoperative) of the CS.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#a5544166752b809fb225645303970a939">More...</a><br /></td></tr>
<tr class="separator:a5544166752b809fb225645303970a939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad04fa13f68b2dc24d1a08538ba291350"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#ad04fa13f68b2dc24d1a08538ba291350">set_evse_individual_operational_status</a> (int32_t evse_id, OperationalStatusEnum new_status, bool persist)</td></tr>
<tr class="memdesc:ad04fa13f68b2dc24d1a08538ba291350"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the individual status (Operative/Inoperative) of an <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> Note: This is not the same as the effective status. The <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> might be effectively Inoperative if the CS is Inoperative.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#ad04fa13f68b2dc24d1a08538ba291350">More...</a><br /></td></tr>
<tr class="separator:ad04fa13f68b2dc24d1a08538ba291350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a841a82dea7192084c674fd60e982fbd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#a841a82dea7192084c674fd60e982fbd6">set_connector_individual_operational_status</a> (int32_t evse_id, int32_t connector_id, OperationalStatusEnum new_status, bool persist)</td></tr>
<tr class="memdesc:a841a82dea7192084c674fd60e982fbd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the individual status (Operative/Inoperative) of a connector Note: This is not the same as the effective status. The connector might be effectively Inoperative if its <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> or the CS is Inoperative.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#a841a82dea7192084c674fd60e982fbd6">More...</a><br /></td></tr>
<tr class="separator:a841a82dea7192084c674fd60e982fbd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea6cbb869166934b78808b3faf3930c8"><td class="memItemLeft" align="right" valign="top">OperationalStatusEnum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#aea6cbb869166934b78808b3faf3930c8">get_evse_effective_operational_status</a> (int32_t evse_id)</td></tr>
<tr class="memdesc:aea6cbb869166934b78808b3faf3930c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the effective Operative/Inoperative status of an <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> This is computed from the <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a>'s and the CS's individual statuses.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#aea6cbb869166934b78808b3faf3930c8">More...</a><br /></td></tr>
<tr class="separator:aea6cbb869166934b78808b3faf3930c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a224cb4a329b1abc07ef569728d10e702"><td class="memItemLeft" align="right" valign="top">OperationalStatusEnum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#a224cb4a329b1abc07ef569728d10e702">get_connector_effective_operational_status</a> (int32_t evse_id, int32_t connector_id)</td></tr>
<tr class="memdesc:a224cb4a329b1abc07ef569728d10e702"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the effective Operative/Inoperative status of a connector. This is computed from the connector's, the <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a>'s, and the CS's individual statuses.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#a224cb4a329b1abc07ef569728d10e702">More...</a><br /></td></tr>
<tr class="separator:a224cb4a329b1abc07ef569728d10e702"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a499b202df788029dfa13c916a08a396c"><td class="memItemLeft" align="right" valign="top">ConnectorStatusEnum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#a499b202df788029dfa13c916a08a396c">get_connector_effective_status</a> (int32_t evse_id, int32_t connector_id)</td></tr>
<tr class="memdesc:a499b202df788029dfa13c916a08a396c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the effective Available/Unavailable/Occupied/Faulted/Reserved status of a connector. If the <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> or the CS is Inoperative, the connector will be effectively Unavailable.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#a499b202df788029dfa13c916a08a396c">More...</a><br /></td></tr>
<tr class="separator:a499b202df788029dfa13c916a08a396c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c451ecb8344b66d3804b890f0921842"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#a7c451ecb8344b66d3804b890f0921842">set_connector_occupied</a> (int32_t evse_id, int32_t connector_id, bool is_occupied)</td></tr>
<tr class="memdesc:a7c451ecb8344b66d3804b890f0921842"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the state of the connector when plugged in or out.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#a7c451ecb8344b66d3804b890f0921842">More...</a><br /></td></tr>
<tr class="separator:a7c451ecb8344b66d3804b890f0921842"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cc3b8e911c572195dde17792814e995"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#a6cc3b8e911c572195dde17792814e995">set_connector_reserved</a> (int32_t evse_id, int32_t connector_id, bool is_reserved)</td></tr>
<tr class="memdesc:a6cc3b8e911c572195dde17792814e995"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the state of the connector when reservations are made or expire.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#a6cc3b8e911c572195dde17792814e995">More...</a><br /></td></tr>
<tr class="separator:a6cc3b8e911c572195dde17792814e995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ef3d09d1c7fccc40d82d9414c8c5ea2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#a7ef3d09d1c7fccc40d82d9414c8c5ea2">set_connector_faulted</a> (int32_t evse_id, int32_t connector_id, bool is_faulted)</td></tr>
<tr class="memdesc:a7ef3d09d1c7fccc40d82d9414c8c5ea2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the state of the connector when errors are raised and cleared.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#a7ef3d09d1c7fccc40d82d9414c8c5ea2">More...</a><br /></td></tr>
<tr class="separator:a7ef3d09d1c7fccc40d82d9414c8c5ea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a557bb4fa81e6ec12e7d583db3e36ab9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#a557bb4fa81e6ec12e7d583db3e36ab9d">set_connector_unavailable</a> (int32_t evse_id, int32_t connector_id, bool is_unavailable)</td></tr>
<tr class="memdesc:a557bb4fa81e6ec12e7d583db3e36ab9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the state of the connector when unavailable or enabled.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#a557bb4fa81e6ec12e7d583db3e36ab9d">More...</a><br /></td></tr>
<tr class="separator:a557bb4fa81e6ec12e7d583db3e36ab9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08626949b558095282d79dafc62a1577"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#a08626949b558095282d79dafc62a1577">trigger_all_effective_availability_changed_callbacks</a> ()</td></tr>
<tr class="memdesc:a08626949b558095282d79dafc62a1577"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structocpp_1_1Call.html" title="Contains a OCPP Call message.">Call</a> the {cs, evse, connector}_effective_availability_changed_callback callback once for every component. This is usually only done once on boot to notify the rest of the system what the state manager expects the operative state (Operative/Inoperative) of the CS, EVSEs, and connectors to be.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#a08626949b558095282d79dafc62a1577">More...</a><br /></td></tr>
<tr class="separator:a08626949b558095282d79dafc62a1577"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a9993e9e444814b60a704e912fabaf8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#a5a9993e9e444814b60a704e912fabaf8">send_status_notification_all_connectors</a> ()</td></tr>
<tr class="memdesc:a5a9993e9e444814b60a704e912fabaf8"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structocpp_1_1Call.html" title="Contains a OCPP Call message.">Call</a> the send_connector_status_notification_callback once for every connector. This is usually done on boot, and on reconnect after the station has been offline for a long time.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#a5a9993e9e444814b60a704e912fabaf8">More...</a><br /></td></tr>
<tr class="separator:a5a9993e9e444814b60a704e912fabaf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93ee90fe0d61157a45b7856c75f9d73b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#a93ee90fe0d61157a45b7856c75f9d73b">send_status_notification_changed_connectors</a> ()</td></tr>
<tr class="memdesc:a93ee90fe0d61157a45b7856c75f9d73b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structocpp_1_1Call.html" title="Contains a OCPP Call message.">Call</a> the send_connector_status_notification_callback once for every connector whose state has changed since it was last reported with a successful send_connector_status_notification_callback. This is usually done when the station has been offline for short time and comes back online.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#a93ee90fe0d61157a45b7856c75f9d73b">More...</a><br /></td></tr>
<tr class="separator:a93ee90fe0d61157a45b7856c75f9d73b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a493a78eea699bfc4ea09156f182f2fa8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html#a493a78eea699bfc4ea09156f182f2fa8">send_status_notification_single_connector</a> (int32_t evse_id, int32_t connector_id)</td></tr>
<tr class="memdesc:a493a78eea699bfc4ea09156f182f2fa8"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structocpp_1_1Call.html" title="Contains a OCPP Call message.">Call</a> the send_connector_status_notification_callback for a single connector. This is usually done when the CSMS explicitly sends a TriggerMessage to send a StatusNotification.  <a href="classocpp_1_1v201_1_1ComponentStateManager.html#a493a78eea699bfc4ea09156f182f2fa8">More...</a><br /></td></tr>
<tr class="separator:a493a78eea699bfc4ea09156f182f2fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c580ba6e6737b70b9fc7a0d31fdd205"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a0c580ba6e6737b70b9fc7a0d31fdd205">set_cs_effective_availability_changed_callback</a> (const std::function&lt; void(const OperationalStatusEnum new_status)&gt; &amp;callback)=0</td></tr>
<tr class="memdesc:a0c580ba6e6737b70b9fc7a0d31fdd205"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a callback to be called when the effective Operative/Inoperative state of the CS changes.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a0c580ba6e6737b70b9fc7a0d31fdd205">More...</a><br /></td></tr>
<tr class="separator:a0c580ba6e6737b70b9fc7a0d31fdd205"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ec8ab9c61a9b3eda7c9c514b6750460"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a9ec8ab9c61a9b3eda7c9c514b6750460">set_evse_effective_availability_changed_callback</a> (const std::function&lt; void(const int32_t evse_id, const OperationalStatusEnum new_status)&gt; &amp;callback)=0</td></tr>
<tr class="memdesc:a9ec8ab9c61a9b3eda7c9c514b6750460"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a callback to be called when the effective Operative/Inoperative state of an <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> changes.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a9ec8ab9c61a9b3eda7c9c514b6750460">More...</a><br /></td></tr>
<tr class="separator:a9ec8ab9c61a9b3eda7c9c514b6750460"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70b20f2d2236d352093fbc3262924d3b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a70b20f2d2236d352093fbc3262924d3b">set_connector_effective_availability_changed_callback</a> (const std::function&lt; void(const int32_t evse_id, const int32_t connector_id, const OperationalStatusEnum new_status)&gt; &amp;callback)=0</td></tr>
<tr class="memdesc:a70b20f2d2236d352093fbc3262924d3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a callback to be called when the effective Operative/Inoperative state of a connector changes.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a70b20f2d2236d352093fbc3262924d3b">More...</a><br /></td></tr>
<tr class="separator:a70b20f2d2236d352093fbc3262924d3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f78fe80840f4cb0487de366b4011155"><td class="memItemLeft" align="right" valign="top">virtual OperationalStatusEnum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a6f78fe80840f4cb0487de366b4011155">get_cs_individual_operational_status</a> ()=0</td></tr>
<tr class="memdesc:a6f78fe80840f4cb0487de366b4011155"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the individual status (Operative/Inoperative) of the CS, as set by the CSMS.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a6f78fe80840f4cb0487de366b4011155">More...</a><br /></td></tr>
<tr class="separator:a6f78fe80840f4cb0487de366b4011155"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb0dab8e782ea6bed7f4a17b7392ad23"><td class="memItemLeft" align="right" valign="top">virtual OperationalStatusEnum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#acb0dab8e782ea6bed7f4a17b7392ad23">get_evse_individual_operational_status</a> (int32_t evse_id)=0</td></tr>
<tr class="memdesc:acb0dab8e782ea6bed7f4a17b7392ad23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the individual status (Operative/Inoperative) of an <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a>, as set by the CSMS Note: This is not the same as the effective status. The <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> might be effectively Inoperative if the CS is Inoperative.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#acb0dab8e782ea6bed7f4a17b7392ad23">More...</a><br /></td></tr>
<tr class="separator:acb0dab8e782ea6bed7f4a17b7392ad23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84a01e91b0cbe8cc9fac835b6a1dafdb"><td class="memItemLeft" align="right" valign="top">virtual OperationalStatusEnum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a84a01e91b0cbe8cc9fac835b6a1dafdb">get_connector_individual_operational_status</a> (int32_t evse_id, int32_t connector_id)=0</td></tr>
<tr class="memdesc:a84a01e91b0cbe8cc9fac835b6a1dafdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the individual status (Operative/Inoperative) of a connector, as set by the CSMS Note: This is not the same as the effective status. The connector might be effectively Inoperative if its <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> or the CS is Inoperative.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a84a01e91b0cbe8cc9fac835b6a1dafdb">More...</a><br /></td></tr>
<tr class="separator:a84a01e91b0cbe8cc9fac835b6a1dafdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af96ffefae58d4427cc8c05eda86bc50d"><td class="memItemLeft" align="right" valign="top">virtual OperationalStatusEnum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#af96ffefae58d4427cc8c05eda86bc50d">get_cs_persisted_operational_status</a> ()=0</td></tr>
<tr class="memdesc:af96ffefae58d4427cc8c05eda86bc50d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the individual status (Operative/Inoperative) of the CS, as persisted in the database This status is restored after reboot, and differs from the individual status if non-persistent status changes were made.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#af96ffefae58d4427cc8c05eda86bc50d">More...</a><br /></td></tr>
<tr class="separator:af96ffefae58d4427cc8c05eda86bc50d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49899128d1589451a67a36490b0f2dbb"><td class="memItemLeft" align="right" valign="top">virtual OperationalStatusEnum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a49899128d1589451a67a36490b0f2dbb">get_evse_persisted_operational_status</a> (int32_t evse_id)=0</td></tr>
<tr class="memdesc:a49899128d1589451a67a36490b0f2dbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the individual status (Operative/Inoperative) of an <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a>, as persisted in the database This status is restored after reboot, and differs from the individual status if non-persistent status changes were made.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a49899128d1589451a67a36490b0f2dbb">More...</a><br /></td></tr>
<tr class="separator:a49899128d1589451a67a36490b0f2dbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11ec8f754556f516a8d95a05892ea8bb"><td class="memItemLeft" align="right" valign="top">virtual OperationalStatusEnum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a11ec8f754556f516a8d95a05892ea8bb">get_connector_persisted_operational_status</a> (int32_t evse_id, int32_t connector_id)=0</td></tr>
<tr class="memdesc:a11ec8f754556f516a8d95a05892ea8bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the individual status (Operative/Inoperative) of a connector, as persisted in the database This status is restored after reboot, and differs from the individual status if non-persistent status changes were made.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a11ec8f754556f516a8d95a05892ea8bb">More...</a><br /></td></tr>
<tr class="separator:a11ec8f754556f516a8d95a05892ea8bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5386dcf87d9874851c87e965fb8de0aa"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a5386dcf87d9874851c87e965fb8de0aa">set_cs_individual_operational_status</a> (OperationalStatusEnum new_status, bool persist)=0</td></tr>
<tr class="memdesc:a5386dcf87d9874851c87e965fb8de0aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the individual status (Operative/Inoperative) of the CS.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a5386dcf87d9874851c87e965fb8de0aa">More...</a><br /></td></tr>
<tr class="separator:a5386dcf87d9874851c87e965fb8de0aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7052cd8220523a410c2ec0dc625d7600"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a7052cd8220523a410c2ec0dc625d7600">set_evse_individual_operational_status</a> (int32_t evse_id, OperationalStatusEnum new_status, bool persist)=0</td></tr>
<tr class="memdesc:a7052cd8220523a410c2ec0dc625d7600"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the individual status (Operative/Inoperative) of an <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> Note: This is not the same as the effective status. The <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> might be effectively Inoperative if the CS is Inoperative.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a7052cd8220523a410c2ec0dc625d7600">More...</a><br /></td></tr>
<tr class="separator:a7052cd8220523a410c2ec0dc625d7600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5de09f153b79a52a7e88094c4ec23524"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a5de09f153b79a52a7e88094c4ec23524">set_connector_individual_operational_status</a> (int32_t evse_id, int32_t connector_id, OperationalStatusEnum new_status, bool persist)=0</td></tr>
<tr class="memdesc:a5de09f153b79a52a7e88094c4ec23524"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the individual status (Operative/Inoperative) of a connector Note: This is not the same as the effective status. The connector might be effectively Inoperative if its <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> or the CS is Inoperative.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a5de09f153b79a52a7e88094c4ec23524">More...</a><br /></td></tr>
<tr class="separator:a5de09f153b79a52a7e88094c4ec23524"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24a8f7fc82c52c423c3dd2c0d53e7f1c"><td class="memItemLeft" align="right" valign="top">virtual OperationalStatusEnum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a24a8f7fc82c52c423c3dd2c0d53e7f1c">get_evse_effective_operational_status</a> (int32_t evse_id)=0</td></tr>
<tr class="memdesc:a24a8f7fc82c52c423c3dd2c0d53e7f1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the effective Operative/Inoperative status of an <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> This is computed from the <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a>'s and the CS's individual statuses.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a24a8f7fc82c52c423c3dd2c0d53e7f1c">More...</a><br /></td></tr>
<tr class="separator:a24a8f7fc82c52c423c3dd2c0d53e7f1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a732b6859175ed13e0ef9eff8d3d41b0a"><td class="memItemLeft" align="right" valign="top">virtual OperationalStatusEnum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a732b6859175ed13e0ef9eff8d3d41b0a">get_connector_effective_operational_status</a> (int32_t evse_id, int32_t connector_id)=0</td></tr>
<tr class="memdesc:a732b6859175ed13e0ef9eff8d3d41b0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the effective Operative/Inoperative status of a connector. This is computed from the connector's, the <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a>'s, and the CS's individual statuses.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a732b6859175ed13e0ef9eff8d3d41b0a">More...</a><br /></td></tr>
<tr class="separator:a732b6859175ed13e0ef9eff8d3d41b0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a949e81d485aec1568025346761c828b5"><td class="memItemLeft" align="right" valign="top">virtual ConnectorStatusEnum&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a949e81d485aec1568025346761c828b5">get_connector_effective_status</a> (int32_t evse_id, int32_t connector_id)=0</td></tr>
<tr class="memdesc:a949e81d485aec1568025346761c828b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the effective Available/Unavailable/Occupied/Faulted/Reserved status of a connector. If the <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> or the CS is Inoperative, the connector will be effectively Unavailable.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a949e81d485aec1568025346761c828b5">More...</a><br /></td></tr>
<tr class="separator:a949e81d485aec1568025346761c828b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a765d826701eec508927e1a45b9be70e8"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a765d826701eec508927e1a45b9be70e8">set_connector_occupied</a> (int32_t evse_id, int32_t connector_id, bool is_occupied)=0</td></tr>
<tr class="memdesc:a765d826701eec508927e1a45b9be70e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the state of the connector when plugged in or out.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a765d826701eec508927e1a45b9be70e8">More...</a><br /></td></tr>
<tr class="separator:a765d826701eec508927e1a45b9be70e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcf29224a984c02bfa0d6d42f1c3cba2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#afcf29224a984c02bfa0d6d42f1c3cba2">set_connector_reserved</a> (int32_t evse_id, int32_t connector_id, bool is_reserved)=0</td></tr>
<tr class="memdesc:afcf29224a984c02bfa0d6d42f1c3cba2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the state of the connector when reservations are made or expire.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#afcf29224a984c02bfa0d6d42f1c3cba2">More...</a><br /></td></tr>
<tr class="separator:afcf29224a984c02bfa0d6d42f1c3cba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1535919d8138ddfbc401ee1fdeee9969"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a1535919d8138ddfbc401ee1fdeee9969">set_connector_faulted</a> (int32_t evse_id, int32_t connector_id, bool is_faulted)=0</td></tr>
<tr class="memdesc:a1535919d8138ddfbc401ee1fdeee9969"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the state of the connector when errors are raised and cleared.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a1535919d8138ddfbc401ee1fdeee9969">More...</a><br /></td></tr>
<tr class="separator:a1535919d8138ddfbc401ee1fdeee9969"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39e8ffddab364c8cc8fee7b530ed6ccc"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a39e8ffddab364c8cc8fee7b530ed6ccc">set_connector_unavailable</a> (int32_t evse_id, int32_t connector_id, bool is_unavailable)=0</td></tr>
<tr class="memdesc:a39e8ffddab364c8cc8fee7b530ed6ccc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the state of the connector when unavailable or enabled.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a39e8ffddab364c8cc8fee7b530ed6ccc">More...</a><br /></td></tr>
<tr class="separator:a39e8ffddab364c8cc8fee7b530ed6ccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d54adcfc6d803f7e88b725b4169811b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a5d54adcfc6d803f7e88b725b4169811b">trigger_all_effective_availability_changed_callbacks</a> ()=0</td></tr>
<tr class="memdesc:a5d54adcfc6d803f7e88b725b4169811b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structocpp_1_1Call.html" title="Contains a OCPP Call message.">Call</a> the {cs, evse, connector}_effective_availability_changed_callback callback once for every component. This is usually only done once on boot to notify the rest of the system what the state manager expects the operative state (Operative/Inoperative) of the CS, EVSEs, and connectors to be.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a5d54adcfc6d803f7e88b725b4169811b">More...</a><br /></td></tr>
<tr class="separator:a5d54adcfc6d803f7e88b725b4169811b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa40123dbaef9db482ab4009aefdba931"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#aa40123dbaef9db482ab4009aefdba931">send_status_notification_all_connectors</a> ()=0</td></tr>
<tr class="memdesc:aa40123dbaef9db482ab4009aefdba931"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structocpp_1_1Call.html" title="Contains a OCPP Call message.">Call</a> the send_connector_status_notification_callback once for every connector. This is usually done on boot, and on reconnect after the station has been offline for a long time.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#aa40123dbaef9db482ab4009aefdba931">More...</a><br /></td></tr>
<tr class="separator:aa40123dbaef9db482ab4009aefdba931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07e146762f59cc6c41bc99406b82cdb0"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a07e146762f59cc6c41bc99406b82cdb0">send_status_notification_changed_connectors</a> ()=0</td></tr>
<tr class="memdesc:a07e146762f59cc6c41bc99406b82cdb0"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structocpp_1_1Call.html" title="Contains a OCPP Call message.">Call</a> the send_connector_status_notification_callback once for every connector whose state has changed since it was last reported with a successful send_connector_status_notification_callback. This is usually done when the station has been offline for short time and comes back online.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a07e146762f59cc6c41bc99406b82cdb0">More...</a><br /></td></tr>
<tr class="separator:a07e146762f59cc6c41bc99406b82cdb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f672509bf6c83fc1568280272b42f7e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a6f672509bf6c83fc1568280272b42f7e">send_status_notification_single_connector</a> (int32_t evse_id, int32_t connector_id)=0</td></tr>
<tr class="memdesc:a6f672509bf6c83fc1568280272b42f7e"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structocpp_1_1Call.html" title="Contains a OCPP Call message.">Call</a> the send_connector_status_notification_callback for a single connector. This is usually done when the CSMS explicitly sends a TriggerMessage to send a StatusNotification.  <a href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a6f672509bf6c83fc1568280272b42f7e">More...</a><br /></td></tr>
<tr class="separator:a6f672509bf6c83fc1568280272b42f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Stores and monitors operational/effective states of the CS, EVSEs, and connectors. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8e064475a02f8d8a0dbb318b4579bf63" name="a8e064475a02f8d8a0dbb318b4579bf63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e064475a02f8d8a0dbb318b4579bf63">&#9670;&nbsp;</a></span>ComponentStateManager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ocpp::v201::ComponentStateManager::ComponentStateManager </td>
          <td>(</td>
          <td class="paramtype">const std::map&lt; int32_t, int32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>evse_connector_structure</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classocpp_1_1v201_1_1DatabaseHandler.html">DatabaseHandler</a> &gt;&#160;</td>
          <td class="paramname"><em>db_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; bool(const int32_t evse_id, const int32_t connector_id, const ConnectorStatusEnum new_status, const bool initiated_by_trigger_message)&gt;&#160;</td>
          <td class="paramname"><em>send_connector_status_notification_callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>At construction time, the state of each component (CS, EVSEs, and connectors) is retrieved from the database. No callbacks are triggered at this stage. When the status of components is updated, corresponding callbacks are triggered to notify the user of libocpp. Additionally, the <a class="el" href="classocpp_1_1v201_1_1ComponentStateManager.html" title="Stores and monitors operational/effective states of the CS, EVSEs, and connectors.">ComponentStateManager</a> sends StatusNotifications to the CSMS when connector statuses change. Note: It is expected that <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a5d54adcfc6d803f7e88b725b4169811b" title="Call the {cs, evse, connector}_effective_availability_changed_callback callback once for every compon...">ComponentStateManagerInterface::trigger_all_effective_availability_changed_callbacks</a> is called on boot, and <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#aa40123dbaef9db482ab4009aefdba931" title="Call the send_connector_status_notification_callback once for every connector. This is usually done o...">ComponentStateManagerInterface::send_status_notification_all_connectors</a> is called when first connected to the CSMS. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">evse_connector_structure</td><td>Maps each <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> ID to the number of connectors the <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> has </td></tr>
    <tr><td class="paramname">db_handler</td><td>A shared reference to the persistent database </td></tr>
    <tr><td class="paramname">send_connector_status_notification_callback</td><td>The callback through which to send StatusNotifications to the CSMS</td></tr>
    <tr><td class="paramname">initiated_by_trigger_message</td><td>Indicates if the StatusNotification was initiated by a TriggerMessage.req </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a224cb4a329b1abc07ef569728d10e702" name="a224cb4a329b1abc07ef569728d10e702"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a224cb4a329b1abc07ef569728d10e702">&#9670;&nbsp;</a></span>get_connector_effective_operational_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">OperationalStatusEnum ocpp::v201::ComponentStateManager::get_connector_effective_operational_status </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>evse_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>connector_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the effective Operative/Inoperative status of a connector. This is computed from the connector's, the <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a>'s, and the CS's individual statuses. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a732b6859175ed13e0ef9eff8d3d41b0a">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="a499b202df788029dfa13c916a08a396c" name="a499b202df788029dfa13c916a08a396c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a499b202df788029dfa13c916a08a396c">&#9670;&nbsp;</a></span>get_connector_effective_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ConnectorStatusEnum ocpp::v201::ComponentStateManager::get_connector_effective_status </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>evse_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>connector_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the effective Available/Unavailable/Occupied/Faulted/Reserved status of a connector. If the <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> or the CS is Inoperative, the connector will be effectively Unavailable. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a949e81d485aec1568025346761c828b5">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="ac0bcb54b25e6faa72d5c713a3211f57c" name="ac0bcb54b25e6faa72d5c713a3211f57c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0bcb54b25e6faa72d5c713a3211f57c">&#9670;&nbsp;</a></span>get_connector_individual_operational_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">OperationalStatusEnum ocpp::v201::ComponentStateManager::get_connector_individual_operational_status </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>evse_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>connector_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the individual status (Operative/Inoperative) of a connector, as set by the CSMS Note: This is not the same as the effective status. The connector might be effectively Inoperative if its <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> or the CS is Inoperative. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a84a01e91b0cbe8cc9fac835b6a1dafdb">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="a21ab01cc5c77eeb477283a80a96dfee0" name="a21ab01cc5c77eeb477283a80a96dfee0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21ab01cc5c77eeb477283a80a96dfee0">&#9670;&nbsp;</a></span>get_connector_persisted_operational_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">OperationalStatusEnum ocpp::v201::ComponentStateManager::get_connector_persisted_operational_status </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>evse_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>connector_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the individual status (Operative/Inoperative) of a connector, as persisted in the database This status is restored after reboot, and differs from the individual status if non-persistent status changes were made. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a11ec8f754556f516a8d95a05892ea8bb">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="a0490ee7e2875ee41925ebbb623db9cd6" name="a0490ee7e2875ee41925ebbb623db9cd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0490ee7e2875ee41925ebbb623db9cd6">&#9670;&nbsp;</a></span>get_cs_individual_operational_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">OperationalStatusEnum ocpp::v201::ComponentStateManager::get_cs_individual_operational_status </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the individual status (Operative/Inoperative) of the CS, as set by the CSMS. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a6f78fe80840f4cb0487de366b4011155">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="a55cc4491690659851156b5147953e330" name="a55cc4491690659851156b5147953e330"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55cc4491690659851156b5147953e330">&#9670;&nbsp;</a></span>get_cs_persisted_operational_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">OperationalStatusEnum ocpp::v201::ComponentStateManager::get_cs_persisted_operational_status </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the individual status (Operative/Inoperative) of the CS, as persisted in the database This status is restored after reboot, and differs from the individual status if non-persistent status changes were made. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#af96ffefae58d4427cc8c05eda86bc50d">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="aea6cbb869166934b78808b3faf3930c8" name="aea6cbb869166934b78808b3faf3930c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea6cbb869166934b78808b3faf3930c8">&#9670;&nbsp;</a></span>get_evse_effective_operational_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">OperationalStatusEnum ocpp::v201::ComponentStateManager::get_evse_effective_operational_status </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>evse_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the effective Operative/Inoperative status of an <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> This is computed from the <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a>'s and the CS's individual statuses. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a24a8f7fc82c52c423c3dd2c0d53e7f1c">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="a6133365ff78f320e44f25d33efc5899a" name="a6133365ff78f320e44f25d33efc5899a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6133365ff78f320e44f25d33efc5899a">&#9670;&nbsp;</a></span>get_evse_individual_operational_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">OperationalStatusEnum ocpp::v201::ComponentStateManager::get_evse_individual_operational_status </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>evse_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the individual status (Operative/Inoperative) of an <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a>, as set by the CSMS Note: This is not the same as the effective status. The <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> might be effectively Inoperative if the CS is Inoperative. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#acb0dab8e782ea6bed7f4a17b7392ad23">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="a65c0c81a89da31f82d272e6a4cc27c1f" name="a65c0c81a89da31f82d272e6a4cc27c1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65c0c81a89da31f82d272e6a4cc27c1f">&#9670;&nbsp;</a></span>get_evse_persisted_operational_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">OperationalStatusEnum ocpp::v201::ComponentStateManager::get_evse_persisted_operational_status </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>evse_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the individual status (Operative/Inoperative) of an <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a>, as persisted in the database This status is restored after reboot, and differs from the individual status if non-persistent status changes were made. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a49899128d1589451a67a36490b0f2dbb">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="a5a9993e9e444814b60a704e912fabaf8" name="a5a9993e9e444814b60a704e912fabaf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a9993e9e444814b60a704e912fabaf8">&#9670;&nbsp;</a></span>send_status_notification_all_connectors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ocpp::v201::ComponentStateManager::send_status_notification_all_connectors </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="structocpp_1_1Call.html" title="Contains a OCPP Call message.">Call</a> the send_connector_status_notification_callback once for every connector. This is usually done on boot, and on reconnect after the station has been offline for a long time. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#aa40123dbaef9db482ab4009aefdba931">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="a93ee90fe0d61157a45b7856c75f9d73b" name="a93ee90fe0d61157a45b7856c75f9d73b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93ee90fe0d61157a45b7856c75f9d73b">&#9670;&nbsp;</a></span>send_status_notification_changed_connectors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ocpp::v201::ComponentStateManager::send_status_notification_changed_connectors </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="structocpp_1_1Call.html" title="Contains a OCPP Call message.">Call</a> the send_connector_status_notification_callback once for every connector whose state has changed since it was last reported with a successful send_connector_status_notification_callback. This is usually done when the station has been offline for short time and comes back online. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a07e146762f59cc6c41bc99406b82cdb0">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="a493a78eea699bfc4ea09156f182f2fa8" name="a493a78eea699bfc4ea09156f182f2fa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a493a78eea699bfc4ea09156f182f2fa8">&#9670;&nbsp;</a></span>send_status_notification_single_connector()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ocpp::v201::ComponentStateManager::send_status_notification_single_connector </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>evse_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>connector_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="structocpp_1_1Call.html" title="Contains a OCPP Call message.">Call</a> the send_connector_status_notification_callback for a single connector. This is usually done when the CSMS explicitly sends a TriggerMessage to send a StatusNotification. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a6f672509bf6c83fc1568280272b42f7e">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="a5e34a0f5aedb5340599704129cc71358" name="a5e34a0f5aedb5340599704129cc71358"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e34a0f5aedb5340599704129cc71358">&#9670;&nbsp;</a></span>set_connector_effective_availability_changed_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ocpp::v201::ComponentStateManager::set_connector_effective_availability_changed_callback </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; void(const int32_t evse_id, const int32_t connector_id, const OperationalStatusEnum new_status)&gt; &amp;&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set a callback to be called when the effective Operative/Inoperative state of a connector changes. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a70b20f2d2236d352093fbc3262924d3b">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="a7ef3d09d1c7fccc40d82d9414c8c5ea2" name="a7ef3d09d1c7fccc40d82d9414c8c5ea2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ef3d09d1c7fccc40d82d9414c8c5ea2">&#9670;&nbsp;</a></span>set_connector_faulted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ocpp::v201::ComponentStateManager::set_connector_faulted </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>evse_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>connector_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_faulted</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the state of the connector when errors are raised and cleared. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a1535919d8138ddfbc401ee1fdeee9969">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="a841a82dea7192084c674fd60e982fbd6" name="a841a82dea7192084c674fd60e982fbd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a841a82dea7192084c674fd60e982fbd6">&#9670;&nbsp;</a></span>set_connector_individual_operational_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ocpp::v201::ComponentStateManager::set_connector_individual_operational_status </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>evse_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>connector_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OperationalStatusEnum&#160;</td>
          <td class="paramname"><em>new_status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>persist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the individual status (Operative/Inoperative) of a connector Note: This is not the same as the effective status. The connector might be effectively Inoperative if its <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> or the CS is Inoperative. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a5de09f153b79a52a7e88094c4ec23524">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="a7c451ecb8344b66d3804b890f0921842" name="a7c451ecb8344b66d3804b890f0921842"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c451ecb8344b66d3804b890f0921842">&#9670;&nbsp;</a></span>set_connector_occupied()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ocpp::v201::ComponentStateManager::set_connector_occupied </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>evse_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>connector_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_occupied</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the state of the connector when plugged in or out. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a765d826701eec508927e1a45b9be70e8">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="a6cc3b8e911c572195dde17792814e995" name="a6cc3b8e911c572195dde17792814e995"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cc3b8e911c572195dde17792814e995">&#9670;&nbsp;</a></span>set_connector_reserved()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ocpp::v201::ComponentStateManager::set_connector_reserved </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>evse_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>connector_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_reserved</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the state of the connector when reservations are made or expire. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#afcf29224a984c02bfa0d6d42f1c3cba2">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="a557bb4fa81e6ec12e7d583db3e36ab9d" name="a557bb4fa81e6ec12e7d583db3e36ab9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a557bb4fa81e6ec12e7d583db3e36ab9d">&#9670;&nbsp;</a></span>set_connector_unavailable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ocpp::v201::ComponentStateManager::set_connector_unavailable </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>evse_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>connector_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_unavailable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the state of the connector when unavailable or enabled. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a39e8ffddab364c8cc8fee7b530ed6ccc">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="af3536017f3bad1dea5c24c75982545c5" name="af3536017f3bad1dea5c24c75982545c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3536017f3bad1dea5c24c75982545c5">&#9670;&nbsp;</a></span>set_cs_effective_availability_changed_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ocpp::v201::ComponentStateManager::set_cs_effective_availability_changed_callback </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; void(const OperationalStatusEnum new_status)&gt; &amp;&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set a callback to be called when the effective Operative/Inoperative state of the CS changes. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a0c580ba6e6737b70b9fc7a0d31fdd205">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="a5544166752b809fb225645303970a939" name="a5544166752b809fb225645303970a939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5544166752b809fb225645303970a939">&#9670;&nbsp;</a></span>set_cs_individual_operational_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ocpp::v201::ComponentStateManager::set_cs_individual_operational_status </td>
          <td>(</td>
          <td class="paramtype">OperationalStatusEnum&#160;</td>
          <td class="paramname"><em>new_status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>persist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the individual status (Operative/Inoperative) of the CS. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a5386dcf87d9874851c87e965fb8de0aa">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="afab8dea2c4e196e143c92d071922b803" name="afab8dea2c4e196e143c92d071922b803"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afab8dea2c4e196e143c92d071922b803">&#9670;&nbsp;</a></span>set_evse_effective_availability_changed_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ocpp::v201::ComponentStateManager::set_evse_effective_availability_changed_callback </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; void(const int32_t evse_id, const OperationalStatusEnum new_status)&gt; &amp;&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set a callback to be called when the effective Operative/Inoperative state of an <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> changes. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a9ec8ab9c61a9b3eda7c9c514b6750460">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="ad04fa13f68b2dc24d1a08538ba291350" name="ad04fa13f68b2dc24d1a08538ba291350"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad04fa13f68b2dc24d1a08538ba291350">&#9670;&nbsp;</a></span>set_evse_individual_operational_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ocpp::v201::ComponentStateManager::set_evse_individual_operational_status </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>evse_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OperationalStatusEnum&#160;</td>
          <td class="paramname"><em>new_status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>persist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the individual status (Operative/Inoperative) of an <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> Note: This is not the same as the effective status. The <a class="el" href="structocpp_1_1v201_1_1EVSE.html">EVSE</a> might be effectively Inoperative if the CS is Inoperative. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a7052cd8220523a410c2ec0dc625d7600">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<a id="a08626949b558095282d79dafc62a1577" name="a08626949b558095282d79dafc62a1577"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08626949b558095282d79dafc62a1577">&#9670;&nbsp;</a></span>trigger_all_effective_availability_changed_callbacks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ocpp::v201::ComponentStateManager::trigger_all_effective_availability_changed_callbacks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="structocpp_1_1Call.html" title="Contains a OCPP Call message.">Call</a> the {cs, evse, connector}_effective_availability_changed_callback callback once for every component. This is usually only done once on boot to notify the rest of the system what the state manager expects the operative state (Operative/Inoperative) of the CS, EVSEs, and connectors to be. </p>

<p>Implements <a class="el" href="classocpp_1_1v201_1_1ComponentStateManagerInterface.html#a5d54adcfc6d803f7e88b725b4169811b">ocpp::v201::ComponentStateManagerInterface</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/ocpp/v201/<a class="el" href="component__state__manager_8hpp_source.html">component_state_manager.hpp</a></li>
<li>lib/ocpp/v201/component_state_manager.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
