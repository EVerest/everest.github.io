<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>1.6.1. Error Framework &#8212; EVerest  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinxdoc.css?v=0a676766" />
    <link rel="stylesheet" type="text/css" href="../../_static/contentui.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../_static/contentui.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2. Prepare Your Development Environment" href="../02_detail_pre_setup.html" />
    <link rel="prev" title="1. EVerest Framework" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../02_detail_pre_setup.html" title="2. Prepare Your Development Environment"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="1. EVerest Framework"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">EVerest  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U"><span class="section-number">1. </span>EVerest Framework</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">1.6.1. </span>Error Framework</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="error-framework">
<h1><span class="section-number">1.6.1. </span>Error Framework<a class="headerlink" href="#error-framework" title="Permalink to this heading">¶</a></h1>
<section id="purpose">
<h2><span class="section-number">1.6.1.1. </span>Purpose<a class="headerlink" href="#purpose" title="Permalink to this heading">¶</a></h2>
<p>The error framework is used to handle errors in the EVerest framework.</p>
<p>As not every module can “decide” by itself how to react to an error and how
to handle it, the error framework provides functionality that allows modules
to react to errors that are raised in required other modules.</p>
<p>The other main purpose of the error framework is to provide a way to monitor
and report errors in the system. This can be used for example for displaying
or reporting to an OCPP backend.</p>
</section>
<section id="usage">
<h2><span class="section-number">1.6.1.2. </span>Usage<a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<section id="general">
<h3><span class="section-number">1.6.1.2.1. </span>General<a class="headerlink" href="#general" title="Permalink to this heading">¶</a></h3>
<section id="raise-an-error">
<h4><span class="section-number">1.6.1.2.1.1. </span>Raise an error<a class="headerlink" href="#raise-an-error" title="Permalink to this heading">¶</a></h4>
<p>Each implementation of an interface can raise errors that are defined in the
interface. There is one function <cite>raise_error</cite> that takes an error object as
argument. The error object is an instance of the class <cite>Error</cite>. To create
the initial error object, the <cite>ErrorFactory</cite> is used.</p>
</section>
<section id="clear-an-error">
<h4><span class="section-number">1.6.1.2.1.2. </span>Clear an error<a class="headerlink" href="#clear-an-error" title="Permalink to this heading">¶</a></h4>
<p>An error can be cleared by the same implementation that raised the error. There
are multiple functions to clear an error.</p>
<p>The function <cite>clear_error</cite> provides two different signatures. The first
signature takes the <cite>ErrorType</cite> and a boolean <cite>clear_all</cite> as arguments.
<cite>clear_all</cite> is optional and defaults to <cite>False</cite>. If <cite>clear_all</cite> is <cite>True</cite>,
all errors of the given <cite>ErrorType</cite> are cleared. If <cite>clear_all</cite> is <cite>False</cite>,
only the Error with <cite>ErrorType</cite> = “” is cleared.</p>
<p>The second signature takes <cite>ErrorType</cite> and <cite>ErrorSubType</cite> as arguments.
In this case, only the error with the given <cite>ErrorType</cite> and <cite>ErrorSubType</cite>
is cleared.</p>
<p>The function <cite>clear_all_errors_of_impl</cite> clears all errors of the current
implementation.</p>
</section>
<section id="subscribe-to-an-error">
<h4><span class="section-number">1.6.1.2.1.3. </span>Subscribe to an error<a class="headerlink" href="#subscribe-to-an-error" title="Permalink to this heading">¶</a></h4>
<p>A module can subscribe to errors of its requirements. This way the module can
react to those errors. There are two functions to subscribe to errors.</p>
<p>The function <cite>subscribe_error</cite> takes the <cite>ErrorType</cite> and two callback functions
as arguments.
The <cite>ErrorType</cite> is the type of the error that the module wants to subscribe to.
The first callback is called when the error is raised.
The second callback is called when the error is cleared.</p>
<p>The function <cite>subscribe_all_errors</cite> takes again two callback functions as
arguments. The first callback is called when an error of any type is raised by
the requirement. The second callback is called when an error is cleared.</p>
</section>
<section id="subscribe-globally-to-all-errors">
<h4><span class="section-number">1.6.1.2.1.4. </span>Subscribe globally to all errors<a class="headerlink" href="#subscribe-globally-to-all-errors" title="Permalink to this heading">¶</a></h4>
<p>This feature is currently only available for C++ modules. It allows a module
to susbcribe to globally all errors of all modules. This can be used for
example for logging purposes or error reporting.</p>
<p>To enable this functionality, the flag <cite>enable_global_errors</cite> in the module’s
manifest file must be set to <cite>true</cite>.
With this, the function <cite>subscribe_global_all_errors</cite> is added to the
autogenerated code. This way the function can be used as the other subscribe
functions, with two callback functions as arguments.</p>
</section>
<section id="the-errorfactory">
<h4><span class="section-number">1.6.1.2.1.5. </span>The ErrorFactory<a class="headerlink" href="#the-errorfactory" title="Permalink to this heading">¶</a></h4>
<p>Since a module does not have direct access to some information that is required
to create an error object, as for example the <cite>module_id</cite>, the class
<cite>ErrorFactory</cite> is used, which is provided for each implementation of an
interface, with correct default values.</p>
<p>The <cite>ErrorFactory</cite> is used to create the initial error object.
This error object can be raised as it is, or can be modified before raising.</p>
<p>The <cite>ErrorFactory</cite> provides multiple signatures for the function
<cite>create_error</cite>: The first signature takes no arguments and creates an error
object with default values. The second signature takes the <cite>ErrorType</cite>,
<cite>ErrorSubType</cite> and <cite>message</cite> as arguments. The third signature takes the
<cite>ErrorType</cite>, <cite>ErrorSubType</cite>, <cite>message</cite> and <cite>severity</cite> as arguments. The fourth
signature takes the <cite>ErrorType</cite>, <cite>ErrorSubType</cite>, <cite>message</cite> and <cite>state</cite> as
arguments. The fifth signature takes the <cite>ErrorType</cite>, <cite>ErrorSubType</cite>,
<cite>message</cite>, <cite>severity</cite> and <cite>state</cite> as arguments.</p>
</section>
<section id="the-errorstatemonitor">
<h4><span class="section-number">1.6.1.2.1.6. </span>The ErrorStateMonitor<a class="headerlink" href="#the-errorstatemonitor" title="Permalink to this heading">¶</a></h4>
<p>The <cite>ErrorStateMonitor</cite> is a class that is used to monitor the error state of
implementations and requirements.
It is provided for each implementation of an interface and for each requirement
of an module.</p>
<p>To check if an error is currently active, the function <cite>is_error_active</cite> is
used. This function takes the <cite>ErrorType</cite> and <cite>ErrorSubType</cite> as arguments and
returns a boolean value. If the error is active, the function returns <cite>True</cite>,
otherwise <cite>False</cite>.</p>
<p>To check if a specific set of errors is in a specific state, the struct
<cite>StateCondition</cite> is defined.
This struct has the members <cite>ErrorType</cite>, <cite>ErrorSubType</cite> and <cite>active: boolean</cite>.
The function <cite>is_condition_satisfied</cite> can either take a single <cite>StateCondition</cite>
or a list of <cite>StateCondition</cite> as argument.
If a single <cite>StateCondition</cite> is passed, the function returns <cite>True</cite> if the
error is in the state as defined in the <cite>StateCondition</cite>.
If a list of <cite>StateCondition</cite> is passed, the function returns <cite>True</cite> if all
conditions are satisfied.</p>
</section>
</section>
<section id="syntax-in-a-c-module">
<h3><span class="section-number">1.6.1.2.2. </span>Syntax in a C++ module<a class="headerlink" href="#syntax-in-a-c-module" title="Permalink to this heading">¶</a></h3>
<p>You can find two example modules written in C++ in the <cite>examples</cite> folder:
<cite>ExampleErrorRaiser</cite> and <cite>ExampleErrorSubscriber</cite>.</p>
<section id="id1">
<h4><span class="section-number">1.6.1.2.2.1. </span>Raise an error<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h4>
<p>Can be done in the implementation of an interface.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Create an error object</span>
<span class="n">Error</span><span class="w"> </span><span class="n">error_object</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">error_factory</span><span class="o">-&gt;</span><span class="n">create_error</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">    </span><span class="c1">// ErrorType</span>
<span class="w">    </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w">                         </span><span class="c1">// ErrorSubType</span>
<span class="w">    </span><span class="s">&quot;This is an example error&quot;</span><span class="w">  </span><span class="c1">// message</span>
<span class="p">);</span>
<span class="c1">// Raise the error</span>
<span class="n">raise_error</span><span class="p">(</span><span class="n">error_object</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="id2">
<h4><span class="section-number">1.6.1.2.2.2. </span>Clear an error<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h4>
<p>Can be done in the implementation of an interface.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Clear all errors of the ErrorType &quot;example/ExampleErrorA&quot;</span>
<span class="n">clear_error</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">    </span><span class="c1">// ErrorType</span>
<span class="w">    </span><span class="nb">true</span><span class="w">                        </span><span class="c1">// clear_all</span>
<span class="p">);</span>

<span class="c1">// Clear the error with ErrorType &quot;example/ExampleErrorA&quot; and ErrorSubType &quot;&quot;</span>
<span class="n">clear_error</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">    </span><span class="c1">// ErrorType</span>
<span class="w">    </span><span class="s">&quot;&quot;</span><span class="w">                          </span><span class="c1">// ErrorSubType</span>
<span class="p">);</span>
<span class="n">clear_error</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">    </span><span class="c1">// ErrorType</span>
<span class="w">    </span><span class="nb">false</span><span class="w">                       </span><span class="c1">// clear_all</span>
<span class="p">);</span>
<span class="n">clear_error</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;example/ExampleErrorA&quot;</span><span class="w">     </span><span class="c1">// ErrorType</span>
<span class="p">);</span><span class="w">                              </span><span class="c1">// clear_all defaults to false</span>

<span class="c1">// Clear all errors of the current implementation</span>
<span class="n">clear_all_errors_of_impl</span><span class="p">();</span>
</pre></div>
</div>
</section>
<section id="id3">
<h4><span class="section-number">1.6.1.2.2.3. </span>Subscribe to an error<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h4>
<p>May be done in the <cite>init</cite> function of the implementation.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Subscribe to an error of the ErrorType &quot;example/ExampleErrorA&quot;</span>
<span class="n">subscribe_error</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">                    </span><span class="c1">// ErrorType</span>
<span class="w">    </span><span class="p">[](</span><span class="n">Error</span><span class="w"> </span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                           </span><span class="c1">// callback</span>
<span class="w">        </span><span class="c1">// Do something when the error is raised</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">[](</span><span class="n">Error</span><span class="w"> </span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                           </span><span class="c1">// clear_callback</span>
<span class="w">        </span><span class="c1">// Do something when the error is cleared</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">);</span>

<span class="c1">// Subscribe to all errors of the requirement</span>
<span class="n">subscribe_all_errors</span><span class="p">(</span>
<span class="w">    </span><span class="p">[](</span><span class="n">Error</span><span class="w"> </span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                           </span><span class="c1">// callback</span>
<span class="w">        </span><span class="c1">// Do something when an error is raised</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">[](</span><span class="n">Error</span><span class="w"> </span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                           </span><span class="c1">// clear_callback</span>
<span class="w">        </span><span class="c1">// Do something when an error is cleared</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">);</span>
</pre></div>
</div>
</section>
<section id="subscribe-to-global-all-errors">
<h4><span class="section-number">1.6.1.2.2.4. </span>Subscribe to global all errors<a class="headerlink" href="#subscribe-to-global-all-errors" title="Permalink to this heading">¶</a></h4>
<p>Needs to be enabled in the manifest file of the module. May be done in the
<cite>init</cite> function of the implementation.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Subscribe to global all errors</span>
<span class="n">subscribe_global_all_errors</span><span class="p">(</span>
<span class="w">    </span><span class="p">[](</span><span class="n">Error</span><span class="w"> </span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                           </span><span class="c1">// callback</span>
<span class="w">        </span><span class="c1">// Do something when an error is raised</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">[](</span><span class="n">Error</span><span class="w"> </span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                           </span><span class="c1">// clear_callback</span>
<span class="w">        </span><span class="c1">// Do something when an error is cleared</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">);</span>
</pre></div>
</div>
</section>
<section id="id4">
<h4><span class="section-number">1.6.1.2.2.5. </span>The ErrorFactory<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h4>
<p>Is used to create an error object.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Error</span><span class="w"> </span><span class="n">error_object_0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">error_factory</span><span class="o">-&gt;</span><span class="n">create_error</span><span class="p">();</span>

<span class="n">Error</span><span class="w"> </span><span class="n">error_object_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">error_factory</span><span class="o">-&gt;</span><span class="n">create_error</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">        </span><span class="c1">// ErrorType</span>
<span class="w">    </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w">                             </span><span class="c1">// ErrorSubType</span>
<span class="w">    </span><span class="s">&quot;This is an example error&quot;</span><span class="w">      </span><span class="c1">// message</span>
<span class="p">);</span>

<span class="n">Error</span><span class="w"> </span><span class="n">error_object_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">error_factory</span><span class="o">-&gt;</span><span class="n">create_error</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">        </span><span class="c1">// ErrorType</span>
<span class="w">    </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w">                             </span><span class="c1">// ErrorSubType</span>
<span class="w">    </span><span class="s">&quot;This is an example error&quot;</span><span class="p">,</span><span class="w">     </span><span class="c1">// message</span>
<span class="w">    </span><span class="n">Everest</span><span class="o">::</span><span class="n">error</span><span class="o">::</span><span class="n">Severity</span><span class="o">::</span><span class="n">High</span><span class="w">  </span><span class="c1">// severity</span>
<span class="p">);</span>

<span class="n">Error</span><span class="w"> </span><span class="n">error_object_3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">error_factory</span><span class="o">-&gt;</span><span class="n">create_error</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">        </span><span class="c1">// ErrorType</span>
<span class="w">    </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w">                             </span><span class="c1">// ErrorSubType</span>
<span class="w">    </span><span class="s">&quot;This is an example error&quot;</span><span class="p">,</span><span class="w">     </span><span class="c1">// message</span>
<span class="w">    </span><span class="n">Everest</span><span class="o">::</span><span class="n">error</span><span class="o">::</span><span class="n">State</span><span class="o">::</span><span class="n">Active</span><span class="w">   </span><span class="c1">// state</span>
<span class="p">);</span>

<span class="n">Error</span><span class="w"> </span><span class="n">error_object_4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">error_factory</span><span class="o">-&gt;</span><span class="n">create_error</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">        </span><span class="c1">// ErrorType</span>
<span class="w">    </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w">                             </span><span class="c1">// ErrorSubType</span>
<span class="w">    </span><span class="s">&quot;This is an example error&quot;</span><span class="p">,</span><span class="w">     </span><span class="c1">// message</span>
<span class="w">    </span><span class="n">Everest</span><span class="o">::</span><span class="n">error</span><span class="o">::</span><span class="n">Severity</span><span class="o">::</span><span class="n">High</span><span class="p">,</span><span class="w"> </span><span class="c1">// severity</span>
<span class="w">    </span><span class="n">Everest</span><span class="o">::</span><span class="n">error</span><span class="o">::</span><span class="n">State</span><span class="o">::</span><span class="n">Active</span><span class="w">   </span><span class="c1">// state</span>
<span class="p">);</span>
</pre></div>
</div>
</section>
<section id="id5">
<h4><span class="section-number">1.6.1.2.2.6. </span>The ErrorStateMonitor<a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h4>
<p>Is used to monitor the error state of implementations and requirements.
Can be accessed in the implementation of an interface / anytime for
requirements.</p>
<p>Get the <cite>ErrorStateMonitor</cite>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Get the ErrorStateMonitor of an implementation</span>
<span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">ErrorStateMonitor</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">monitor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">error_state_monitor</span><span class="p">;</span>

<span class="c1">// Get the ErrorStateMonitor of a requirement</span>
<span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">ErrorStateMonitor</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">monitor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">mod</span><span class="o">-&gt;</span><span class="n">r_example_raiser</span><span class="o">-&gt;</span><span class="n">error_state_monitor</span><span class="p">;</span>
</pre></div>
</div>
<p>Check if an error is active:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Check if an error of the ErrorType &quot;example/ExampleErrorA&quot; is active</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">is_active</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">monitor</span><span class="o">-&gt;</span><span class="n">is_error_active</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">    </span><span class="c1">// ErrorType</span>
<span class="w">    </span><span class="s">&quot;&quot;</span><span class="w">                          </span><span class="c1">// ErrorSubType</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Check if a specific set of errors is in a specific state:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Check if an error of the ErrorType &quot;example/ExampleErrorA&quot; is active</span>
<span class="n">StateCondition</span><span class="w"> </span><span class="n">condition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">        </span><span class="c1">// ErrorType</span>
<span class="w">    </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w">                             </span><span class="c1">// ErrorSubType</span>
<span class="w">    </span><span class="nb">true</span><span class="w">                            </span><span class="c1">// active</span>
<span class="p">};</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">is_satisfied</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">monitor</span><span class="o">-&gt;</span><span class="n">is_condition_satisfied</span><span class="p">(</span><span class="n">condition</span><span class="p">);</span>

<span class="c1">// Check if multiple errors are active</span>
<span class="n">std</span><span class="o">::</span><span class="n">list</span><span class="o">&lt;</span><span class="n">StateCondition</span><span class="o">&gt;</span><span class="w"> </span><span class="n">conditions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="s">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">    </span><span class="c1">// ErrorType</span>
<span class="w">        </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w">                         </span><span class="c1">// ErrorSubType</span>
<span class="w">        </span><span class="nb">true</span><span class="w">                        </span><span class="c1">// active</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="s">&quot;example/ExampleErrorB&quot;</span><span class="p">,</span><span class="w">    </span><span class="c1">// ErrorType</span>
<span class="w">        </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w">                         </span><span class="c1">// ErrorSubType</span>
<span class="w">        </span><span class="nb">true</span><span class="w">                        </span><span class="c1">// active</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>
<span class="kt">bool</span><span class="w"> </span><span class="n">are_satisfied</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">monitor</span><span class="o">-&gt;</span><span class="n">is_condition_satisfied</span><span class="p">(</span><span class="n">conditions</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
<section id="syntax-in-a-python-module">
<h3><span class="section-number">1.6.1.2.3. </span>Syntax in a Python module<a class="headerlink" href="#syntax-in-a-python-module" title="Permalink to this heading">¶</a></h3>
<p>You can find two example modules written in Python in the <cite>examples</cite> folder:
<cite>PyExampleErrorRaiser</cite> and <cite>PyExampleErrorSubscriber</cite>.</p>
<p>The error related classes need to be imported from the <cite>everest</cite> module.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">everest.framework</span> <span class="kn">import</span> <span class="n">error</span>
</pre></div>
</div>
<section id="id6">
<h4><span class="section-number">1.6.1.2.3.1. </span>Raise an error<a class="headerlink" href="#id6" title="Permalink to this heading">¶</a></h4>
<p>Can be done in the implementation of an interface after initializing.
In opposite to the C++ implementation, the raise function is called on the
module object and takes additionally the <cite>implementation_id</cite> as argument.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create an error object</span>
<span class="n">error_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="o">.</span><span class="n">get_error_factory</span><span class="p">(</span><span class="s2">&quot;example_raiser&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">create_error</span><span class="p">(</span>
    <span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span>    <span class="c1"># ErrorType</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>                         <span class="c1"># ErrorSubType</span>
    <span class="s2">&quot;This is an example error&quot;</span>  <span class="c1"># message</span>
<span class="p">)</span>
<span class="c1"># Raise the error</span>
<span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="o">.</span><span class="n">raise_error</span><span class="p">(</span>
    <span class="s2">&quot;example_raiser&quot;</span><span class="p">,</span>           <span class="c1"># implementation_id</span>
    <span class="n">error_object</span>                <span class="c1"># error</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id7">
<h4><span class="section-number">1.6.1.2.3.2. </span>Clear an error<a class="headerlink" href="#id7" title="Permalink to this heading">¶</a></h4>
<p>Can be done in the implementation of an interface after raising.
In opposite to the C++ implementation, the clear function is called on the
module object and takes additionally the <cite>implementation_id</cite> as argument.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Clear all errors of the ErrorType &quot;example/ExampleErrorA&quot;</span>
<span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="o">.</span><span class="n">clear_error</span><span class="p">(</span>
    <span class="s2">&quot;example_raiser&quot;</span><span class="p">,</span>           <span class="c1"># implementation_id</span>
    <span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span>    <span class="c1"># ErrorType</span>
    <span class="kc">True</span>                        <span class="c1"># clear_all</span>
<span class="p">)</span>

<span class="c1"># Clear the error with ErrorType &quot;example/ExampleErrorA&quot; and ErrorSubType &quot;&quot;</span>
<span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="o">.</span><span class="n">clear_error</span><span class="p">(</span>
    <span class="s2">&quot;example_raiser&quot;</span><span class="p">,</span>           <span class="c1"># implementation_id</span>
    <span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span>    <span class="c1"># ErrorType</span>
    <span class="s2">&quot;&quot;</span>                          <span class="c1"># ErrorSubType</span>
<span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="o">.</span><span class="n">clear_error</span><span class="p">(</span>
    <span class="s2">&quot;example_raiser&quot;</span><span class="p">,</span>           <span class="c1"># implementation_id</span>
    <span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span>    <span class="c1"># ErrorType</span>
    <span class="kc">False</span>                       <span class="c1"># clear_all</span>
<span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="o">.</span><span class="n">clear_error</span><span class="p">(</span>
    <span class="s2">&quot;example_raiser&quot;</span><span class="p">,</span>           <span class="c1"># implementation_id</span>
    <span class="s2">&quot;example/ExampleErrorA&quot;</span>     <span class="c1"># ErrorType</span>
<span class="p">)</span>                               <span class="c1"># clear_all defaults to false</span>

<span class="c1"># Clear all errors of the current implementation</span>
<span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="o">.</span><span class="n">clear_all_errors_of_impl</span><span class="p">(</span>
    <span class="s2">&quot;example_raiser&quot;</span>            <span class="c1"># implementation_id</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id8">
<h4><span class="section-number">1.6.1.2.3.3. </span>Subscribe to an error<a class="headerlink" href="#id8" title="Permalink to this heading">¶</a></h4>
<p>Can be done in the <cite>init</cite> function of the implementation.
In opposite to the C++ implementation, the subscribe function is called on the
module object and takes additionally the <cite>requirement</cite> as argument.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Subscribe to an error of the ErrorType &quot;example/ExampleErrorA&quot;</span>
<span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="o">.</span><span class="n">subscribe_error</span><span class="p">(</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_setup</span><span class="o">.</span><span class="n">connections</span><span class="p">[</span><span class="s2">&quot;example_raiser&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>   <span class="c1"># requirement</span>
    <span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span>                        <span class="c1"># ErrorType</span>
    <span class="k">lambda</span> <span class="n">error</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error raised: &quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">),</span>   <span class="c1"># callback</span>
    <span class="k">lambda</span> <span class="n">error</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error cleared: &quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>   <span class="c1"># clear_callback</span>
<span class="p">)</span>

<span class="c1"># Subscribe to all errors of the requirement</span>
<span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="o">.</span><span class="n">subscribe_all_errors</span><span class="p">(</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_setup</span><span class="o">.</span><span class="n">connections</span><span class="p">[</span><span class="s2">&quot;example_raiser&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>   <span class="c1"># implementation_id</span>
    <span class="k">lambda</span> <span class="n">error</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error raised: &quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">),</span>   <span class="c1"># callback</span>
    <span class="k">lambda</span> <span class="n">error</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error cleared: &quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span>   <span class="c1"># clear_callback</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id9">
<h4><span class="section-number">1.6.1.2.3.4. </span>Subscribe to global all errors<a class="headerlink" href="#id9" title="Permalink to this heading">¶</a></h4>
<p>This feature is currently only available for C++ modules.</p>
</section>
<section id="id10">
<h4><span class="section-number">1.6.1.2.3.5. </span>The ErrorFactory<a class="headerlink" href="#id10" title="Permalink to this heading">¶</a></h4>
<p>Is used to create an error object.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">error_object_0</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="o">.</span><span class="n">get_error_factory</span><span class="p">(</span><span class="s2">&quot;example_raiser&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">create_error</span><span class="p">()</span>

<span class="n">error_object_1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="o">.</span><span class="n">get_error_factory</span><span class="p">(</span><span class="s2">&quot;example_raiser&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">create_error</span><span class="p">(</span>
    <span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span>        <span class="c1"># ErrorType</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>                             <span class="c1"># ErrorSubType</span>
    <span class="s2">&quot;This is an example error&quot;</span>      <span class="c1"># message</span>
<span class="p">)</span>

<span class="n">error_object_2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="o">.</span><span class="n">get_error_factory</span><span class="p">(</span><span class="s2">&quot;example_raiser&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">create_error</span><span class="p">(</span>
    <span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span>        <span class="c1"># ErrorType</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>                             <span class="c1"># ErrorSubType</span>
    <span class="s2">&quot;This is an example error&quot;</span><span class="p">,</span>     <span class="c1"># message</span>
    <span class="n">error</span><span class="o">.</span><span class="n">Severity</span><span class="o">.</span><span class="n">High</span>             <span class="c1"># severity</span>
<span class="p">)</span>

<span class="n">error_object_3</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="o">.</span><span class="n">get_error_factory</span><span class="p">(</span><span class="s2">&quot;example_raiser&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">create_error</span><span class="p">(</span>
    <span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span>        <span class="c1"># ErrorType</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>                             <span class="c1"># ErrorSubType</span>
    <span class="s2">&quot;This is an example error&quot;</span><span class="p">,</span>     <span class="c1"># message</span>
    <span class="n">error</span><span class="o">.</span><span class="n">State</span><span class="o">.</span><span class="n">Active</span>              <span class="c1"># state</span>
<span class="p">)</span>

<span class="n">error_object_4</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="o">.</span><span class="n">get_error_factory</span><span class="p">(</span><span class="s2">&quot;example_raiser&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">create_error</span><span class="p">(</span>
    <span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span>        <span class="c1"># ErrorType</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>                             <span class="c1"># ErrorSubType</span>
    <span class="s2">&quot;This is an example error&quot;</span><span class="p">,</span>     <span class="c1"># message</span>
    <span class="n">error</span><span class="o">.</span><span class="n">Severity</span><span class="o">.</span><span class="n">High</span><span class="p">,</span>            <span class="c1"># severity</span>
    <span class="n">error</span><span class="o">.</span><span class="n">State</span><span class="o">.</span><span class="n">Active</span>              <span class="c1"># state</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id11">
<h4><span class="section-number">1.6.1.2.3.6. </span>The ErrorStateMonitor<a class="headerlink" href="#id11" title="Permalink to this heading">¶</a></h4>
<p>Get the <cite>ErrorStateMonitor</cite>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the ErrorStateMonitor of an implementation</span>
<span class="n">monitor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="o">.</span><span class="n">get_error_state_monitor_impl</span><span class="p">(</span>
    <span class="s2">&quot;example_raiser&quot;</span>                                <span class="c1"># implementation_id</span>
<span class="p">)</span>

<span class="c1"># Get the ErrorStateMonitor of a requirement</span>
<span class="n">monitor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mod</span><span class="o">.</span><span class="n">get_error_state_monitor_req</span><span class="p">(</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_setup</span><span class="o">.</span><span class="n">connections</span><span class="p">[</span><span class="s2">&quot;example_raiser&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>    <span class="c1"># requirement</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Check if an error is active:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check if an error of the ErrorType &quot;example/ExampleErrorA&quot; is active</span>
<span class="n">is_active</span> <span class="o">=</span> <span class="n">monitor</span><span class="o">.</span><span class="n">is_error_active</span><span class="p">(</span>
    <span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span>    <span class="c1"># ErrorType</span>
    <span class="s2">&quot;&quot;</span>                          <span class="c1"># ErrorSubType</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Check if a specific set of errors is in a specific state:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check if an error of the ErrorType &quot;example/ExampleErrorA&quot; is active</span>
<span class="n">condition</span> <span class="o">=</span> <span class="n">error</span><span class="o">.</span><span class="n">StateCondition</span><span class="p">(</span>
    <span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span>    <span class="c1"># ErrorType</span>
    <span class="s2">&quot;&quot;</span><span class="p">,</span>                         <span class="c1"># ErrorSubType</span>
    <span class="kc">True</span>                        <span class="c1"># active</span>
<span class="p">)</span>
<span class="n">is_satisfied</span> <span class="o">=</span> <span class="n">monitor</span><span class="o">.</span><span class="n">is_condition_satisfied</span><span class="p">(</span><span class="n">condition</span><span class="p">)</span>

<span class="c1"># Check if multiple errors are active</span>
<span class="n">conditions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">error</span><span class="o">.</span><span class="n">StateCondition</span><span class="p">(</span>
        <span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span>    <span class="c1"># ErrorType</span>
        <span class="s2">&quot;&quot;</span><span class="p">,</span>                         <span class="c1"># ErrorSubType</span>
        <span class="kc">True</span>                        <span class="c1"># active</span>
    <span class="p">),</span>
    <span class="n">error</span><span class="o">.</span><span class="n">StateCondition</span><span class="p">(</span>
        <span class="s2">&quot;example/ExampleErrorB&quot;</span><span class="p">,</span>    <span class="c1"># ErrorType</span>
        <span class="s2">&quot;&quot;</span><span class="p">,</span>                         <span class="c1"># ErrorSubType</span>
        <span class="kc">True</span>                        <span class="c1"># active</span>
    <span class="p">)</span>
<span class="p">]</span>
<span class="n">are_satisfied</span> <span class="o">=</span> <span class="n">monitor</span><span class="o">.</span><span class="n">is_condition_satisfied</span><span class="p">(</span><span class="n">conditions</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="syntax-in-a-javascript-module">
<h3><span class="section-number">1.6.1.2.4. </span>Syntax in a Javascript module<a class="headerlink" href="#syntax-in-a-javascript-module" title="Permalink to this heading">¶</a></h3>
<p>You can find two example modules written in Javascript in the <cite>examples</cite> folder:
<cite>JsExampleErrorRaiser</cite> and <cite>JsExampleErrorSubscriber</cite>.</p>
<section id="id12">
<h4><span class="section-number">1.6.1.2.4.1. </span>Raise an error<a class="headerlink" href="#id12" title="Permalink to this heading">¶</a></h4>
<p>Can be done in the implementation of an interface after initializing.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Create an error object</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">error_object</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">mod</span><span class="p">.</span><span class="nx">provides</span><span class="p">.</span><span class="nx">example_raiser</span><span class="p">.</span><span class="nx">error_factory</span><span class="p">.</span><span class="nx">create_error</span><span class="p">(</span>
<span class="w">    </span><span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">    </span><span class="c1">// ErrorType</span>
<span class="w">    </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">                         </span><span class="c1">// ErrorSubType</span>
<span class="w">    </span><span class="s2">&quot;This is an example error&quot;</span><span class="w">  </span><span class="c1">// message</span>
<span class="p">);</span>
<span class="c1">// Raise the error</span>
<span class="nx">mod</span><span class="p">.</span><span class="nx">provides</span><span class="p">.</span><span class="nx">example_raiser</span><span class="p">.</span><span class="nx">raise_error</span><span class="p">(</span><span class="nx">error_object</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="id13">
<h4><span class="section-number">1.6.1.2.4.2. </span>Clear an error<a class="headerlink" href="#id13" title="Permalink to this heading">¶</a></h4>
<p>Can be done in the implementation of an interface after raising.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Clear all errors of the ErrorType &quot;example/ExampleErrorA&quot;</span>
<span class="nx">mod</span><span class="p">.</span><span class="nx">provides</span><span class="p">.</span><span class="nx">example_raiser</span><span class="p">.</span><span class="nx">clear_error</span><span class="p">(</span>
<span class="w">    </span><span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">    </span><span class="c1">// ErrorType</span>
<span class="w">    </span><span class="kc">true</span><span class="w">                        </span><span class="c1">// clear_all</span>
<span class="p">);</span>

<span class="c1">// Clear the error with ErrorType &quot;example/ExampleErrorA&quot; and ErrorSubType &quot;&quot;</span>
<span class="nx">mod</span><span class="p">.</span><span class="nx">provides</span><span class="p">.</span><span class="nx">example_raiser</span><span class="p">.</span><span class="nx">clear_error</span><span class="p">(</span>
<span class="w">    </span><span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">    </span><span class="c1">// ErrorType</span>
<span class="w">    </span><span class="s2">&quot;&quot;</span><span class="w">                          </span><span class="c1">// ErrorSubType</span>
<span class="p">);</span>
<span class="nx">mod</span><span class="p">.</span><span class="nx">provides</span><span class="p">.</span><span class="nx">example_raiser</span><span class="p">.</span><span class="nx">clear_error</span><span class="p">(</span>
<span class="w">    </span><span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">    </span><span class="c1">// ErrorType</span>
<span class="w">    </span><span class="kc">false</span><span class="w">                       </span><span class="c1">// clear_all</span>
<span class="p">);</span>
<span class="nx">mod</span><span class="p">.</span><span class="nx">provides</span><span class="p">.</span><span class="nx">example_raiser</span><span class="p">.</span><span class="nx">clear_error</span><span class="p">(</span>
<span class="w">    </span><span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="w">     </span><span class="c1">// ErrorType</span>
<span class="p">);</span><span class="w">                              </span><span class="c1">// clear_all defaults to false</span>

<span class="c1">// Clear all errors of the current implementation</span>
<span class="nx">mod</span><span class="p">.</span><span class="nx">provides</span><span class="p">.</span><span class="nx">example_raiser</span><span class="p">.</span><span class="nx">clear_all_errors_of_impl</span><span class="p">();</span>
</pre></div>
</div>
</section>
<section id="id14">
<h4><span class="section-number">1.6.1.2.4.3. </span>Subscribe to an error<a class="headerlink" href="#id14" title="Permalink to this heading">¶</a></h4>
<p>May be done in the <cite>init</cite> function of the implementation. In Javascript,
the subscription is limited to only one callback per subscription.
So the example below wouldn’t be possible since it would subscribe two times
to <cite>example/ExampleErrorA</cite>.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Subscribe to an error of the ErrorType &quot;example/ExampleErrorA&quot;</span>
<span class="nx">setup</span><span class="p">.</span><span class="nx">uses</span><span class="p">.</span><span class="nx">example_raiser</span><span class="p">.</span><span class="nx">subscribe_error</span><span class="p">(</span>
<span class="w">    </span><span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">                    </span><span class="c1">// ErrorType</span>
<span class="w">    </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">                                </span><span class="c1">// callback</span>
<span class="w">        </span><span class="c1">// Do something when the error is raised</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">                                </span><span class="c1">// clear_callback</span>
<span class="w">        </span><span class="c1">// Do something when the error is cleared</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">);</span>

<span class="c1">// Subscribe to all errors of the requirement</span>
<span class="nx">setup</span><span class="p">.</span><span class="nx">uses</span><span class="p">.</span><span class="nx">example_raiser</span><span class="p">.</span><span class="nx">subscribe_all_errors</span><span class="p">(</span>
<span class="w">    </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">                                </span><span class="c1">// callback</span>
<span class="w">        </span><span class="c1">// Do something when an error is raised</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">                                </span><span class="c1">// clear_callback</span>
<span class="w">        </span><span class="c1">// Do something when an error is cleared</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">);</span>
</pre></div>
</div>
</section>
<section id="id15">
<h4><span class="section-number">1.6.1.2.4.4. </span>Subscribe to global all errors<a class="headerlink" href="#id15" title="Permalink to this heading">¶</a></h4>
<p>This feature is currently only available for C++ modules.</p>
</section>
<section id="id16">
<h4><span class="section-number">1.6.1.2.4.5. </span>The ErrorFactory<a class="headerlink" href="#id16" title="Permalink to this heading">¶</a></h4>
<p>Is used to create new error objects. The function signature of <cite>create_error</cite>
with arguments <cite>ErrorType</cite>, <cite>ErrorSubType</cite>, <cite>message</cite>, and <cite>state</cite> is not
available in Javascript.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span><span class="w"> </span><span class="nx">error_object_0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">mod</span><span class="p">.</span><span class="nx">provides</span><span class="p">.</span><span class="nx">example_raiser</span><span class="p">.</span><span class="nx">error_factory</span><span class="p">.</span><span class="nx">create_error</span><span class="p">();</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">error_object_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">mod</span><span class="p">.</span><span class="nx">provides</span><span class="p">.</span><span class="nx">example_raiser</span><span class="p">.</span><span class="nx">error_factory</span><span class="p">.</span><span class="nx">create_error</span><span class="p">(</span>
<span class="w">    </span><span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">        </span><span class="c1">// ErrorType</span>
<span class="w">    </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">                             </span><span class="c1">// ErrorSubType</span>
<span class="w">    </span><span class="s2">&quot;This is an example error&quot;</span><span class="w">      </span><span class="c1">// message</span>
<span class="p">);</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">error_object_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">mod</span><span class="p">.</span><span class="nx">provides</span><span class="p">.</span><span class="nx">example_raiser</span><span class="p">.</span><span class="nx">error_factory</span><span class="p">.</span><span class="nx">create_error</span><span class="p">(</span>
<span class="w">    </span><span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">        </span><span class="c1">// ErrorType</span>
<span class="w">    </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">                             </span><span class="c1">// ErrorSubType</span>
<span class="w">    </span><span class="s2">&quot;This is an example error&quot;</span><span class="p">,</span><span class="w">     </span><span class="c1">// message</span>
<span class="w">    </span><span class="nx">error</span><span class="p">.</span><span class="nx">Severity</span><span class="p">.</span><span class="nx">High</span><span class="w">             </span><span class="c1">// severity</span>
<span class="p">);</span>

<span class="kd">let</span><span class="w"> </span><span class="nx">error_object_4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">mod</span><span class="p">.</span><span class="nx">provides</span><span class="p">.</span><span class="nx">example_raiser</span><span class="p">.</span><span class="nx">error_factory</span><span class="p">.</span><span class="nx">create_error</span><span class="p">(</span>
<span class="w">    </span><span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">        </span><span class="c1">// ErrorType</span>
<span class="w">    </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">                             </span><span class="c1">// ErrorSubType</span>
<span class="w">    </span><span class="s2">&quot;This is an example error&quot;</span><span class="p">,</span><span class="w">     </span><span class="c1">// message</span>
<span class="w">    </span><span class="nx">error</span><span class="p">.</span><span class="nx">Severity</span><span class="p">.</span><span class="nx">High</span><span class="p">,</span><span class="w">            </span><span class="c1">// severity</span>
<span class="w">    </span><span class="nx">error</span><span class="p">.</span><span class="nx">State</span><span class="p">.</span><span class="nx">Active</span><span class="w">              </span><span class="c1">// state</span>
<span class="p">);</span>
</pre></div>
</div>
</section>
<section id="id17">
<h4><span class="section-number">1.6.1.2.4.6. </span>The ErrorStateMonitor<a class="headerlink" href="#id17" title="Permalink to this heading">¶</a></h4>
<p>Get the <cite>ErrorStateMonitor</cite>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Get the ErrorStateMonitor of an implementation</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">monitor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">mod</span><span class="p">.</span><span class="nx">provides</span><span class="p">.</span><span class="nx">example_raiser</span><span class="p">.</span><span class="nx">error_state_monitor</span><span class="p">;</span>

<span class="c1">// Get the ErrorStateMonitor of a requirement</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">monitor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">setup</span><span class="p">.</span><span class="nx">uses</span><span class="p">.</span><span class="nx">example_raiser</span><span class="p">.</span><span class="nx">error_state_monitor</span><span class="p">;</span>
</pre></div>
</div>
<p>Check if an error is active:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Check if an error of the ErrorType &quot;example/ExampleErrorA&quot; is active</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">is_active</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">monitor</span><span class="p">.</span><span class="nx">is_error_active</span><span class="p">(</span>
<span class="w">    </span><span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">    </span><span class="c1">// ErrorType</span>
<span class="w">    </span><span class="s2">&quot;&quot;</span><span class="w">                          </span><span class="c1">// ErrorSubType</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Check if a specific set of errors is in a specific state:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Check if an error of the ErrorType &quot;example/ExampleErrorA&quot; is active</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">condition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">ErrorType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">         </span><span class="c1">// ErrorType</span>
<span class="w">    </span><span class="nx">ErrorSubType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">                           </span><span class="c1">// ErrorSubType</span>
<span class="w">    </span><span class="nx">active</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w">                                </span><span class="c1">// active</span>
<span class="p">};</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">is_satisfied</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">monitor</span><span class="p">.</span><span class="nx">is_condition_satisfied</span><span class="p">(</span><span class="nx">condition</span><span class="p">);</span>

<span class="c1">// Check if multiple errors are active</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">conditions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nx">ErrorType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;example/ExampleErrorA&quot;</span><span class="p">,</span><span class="w">     </span><span class="c1">// ErrorType</span>
<span class="w">        </span><span class="nx">ErrorSubType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">                       </span><span class="c1">// ErrorSubType</span>
<span class="w">        </span><span class="nx">active</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w">                            </span><span class="c1">// active</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nx">ErrorType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;example/ExampleErrorB&quot;</span><span class="p">,</span><span class="w">     </span><span class="c1">// ErrorType</span>
<span class="w">        </span><span class="nx">ErrorSubType</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">                       </span><span class="c1">// ErrorSubType</span>
<span class="w">        </span><span class="nx">active</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w">                            </span><span class="c1">// active</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">];</span>
<span class="kd">let</span><span class="w"> </span><span class="nx">are_satisfied</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">monitor</span><span class="p">.</span><span class="nx">is_condition_satisfied</span><span class="p">(</span><span class="nx">conditions</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="usage-guide">
<h2><span class="section-number">1.6.1.3. </span>Usage Guide<a class="headerlink" href="#usage-guide" title="Permalink to this heading">¶</a></h2>
<section id="creating-error-objects">
<h3><span class="section-number">1.6.1.3.1. </span>Creating Error objects<a class="headerlink" href="#creating-error-objects" title="Permalink to this heading">¶</a></h3>
<p>Error objects may always be created using the <cite>ErrorFactory</cite> of the
implementation.</p>
<p>Error objects can be edited after creatiion, before raising them.</p>
<p>The following attributes may not be changed after creation:
- <cite>timestamp</cite>
- <cite>origin.module_id</cite>
- <cite>origin.implementation_id</cite>
- <cite>uuid</cite></p>
</section>
<section id="the-global-subscription">
<h3><span class="section-number">1.6.1.3.2. </span>The global subscription<a class="headerlink" href="#the-global-subscription" title="Permalink to this heading">¶</a></h3>
<p>If a module is subscribed to global all errors, it may do only “reporting”
actions, but no “handling” actions. This means that the module does not change
its behavior based on the error, but only reports the error for example to a
log file.</p>
</section>
<section id="treating-of-specific-error-types">
<h3><span class="section-number">1.6.1.3.3. </span>Treating of specific Error Types<a class="headerlink" href="#treating-of-specific-error-types" title="Permalink to this heading">¶</a></h3>
<p>This section describes the handling of specific error types.
Currently it is still under construction, so please check regularly for
updates.</p>
<ul class="simple">
<li><p>The <em>evse_board_support/VendorError</em> is a generic error type which is used
with vendor specific sub_types, which can be for example vendor specific
error codes. The <em>evse_board_support/VendorError</em> is raised to prevent charging
in <cite>EVSEManager</cite> module. The <cite>EVSEManager</cite> needs to require the
<cite>evse_board_support</cite> module.</p></li>
<li><p>The <em>evse_board_support/VendorWarning</em> is a generic error type which is used
with vendor specific sub_types, which can be for example vendor specific
error codes. The <em>evse_board_support/VendorWarning</em> is raised to report an
error that does not prevent charging in <cite>EVSEManager</cite> module.</p></li>
</ul>
</section>
</section>
<section id="architecture">
<h2><span class="section-number">1.6.1.4. </span>Architecture<a class="headerlink" href="#architecture" title="Permalink to this heading">¶</a></h2>
<p>t.b.d.</p>
<p>This section is still under construction. The most is implemented in the
directories <cite>include/utils/error/</cite> and <cite>lib/error/</cite> in the <cite>everest-framework</cite>
repository.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">1. EVerest Framework</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#a-visual-introduction">1.1. A Visual Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#examples-of-everest-modules">1.2. Examples of EVerest Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#high-level-module-concept">1.3. High Level Module Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-communication">1.4. Module Communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#system-requirements-and-prerequisites">1.5. System Requirements and Prerequisites</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#more">1.6. More</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../02_detail_pre_setup.html">2. Prepare Your Development Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03_quick_start_guide.html">3. A Kind Of Quick Guide To EVerest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04_detail_module_concept.html">4. EVerest Modules in Detail</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05_existing_modules.html">5. EVerest Module Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06_handling_bank_cards.html">6. Bank Card Payment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../07_configure_plug_and_charge.html">7. Configure Plug&amp;Charge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev_tools/index.html">8. EVerest development tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">9. Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">10. Frequently Asked Questions And Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware/pionix_belay_box.html">11. Pionix BelayBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/02_snapshot.html">12. Snapshot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/01_everest_reference/index.html">13. EVerest Reference</a></li>
</ul>

  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="index.html"
                          title="previous chapter"><span class="section-number">1. </span>EVerest Framework</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="../02_detail_pre_setup.html"
                          title="next chapter"><span class="section-number">2. </span>Prepare Your Development Environment</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/general/01_framework/error_framework.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div><h3>Community</h3>
<ul class="nav nav-sidebar">
<li><a href="https://lists.lfenergy.org/g/everest" target="_blank"><img src="../../_static/icons/mail.svg" style="height: 0.8em" /> Get Support</a></li>
<li><a href="https://www.youtube.com/@lfe_everest" target="_blank"><img src="../../_static/icons/youtube.svg" style="height: 0.8em" /> YouTube Channel</a></li>
<li><a href="https://twitter.com/everestincharge" target="_blank"><img src="../../_static/icons/twitter.svg" style="height: 0.8em" /> Twitter</a></li>
<li><a href="https://fosstodon.org/@EVerest" target="_blank">Mastodon</a></li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../02_detail_pre_setup.html" title="2. Prepare Your Development Environment"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="1. EVerest Framework"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">EVerest  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" ><span class="section-number">1. </span>EVerest Framework</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">1.6.1. </span>Error Framework</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2021, Pionix GmbH.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    </div>
  </body>
</html>