<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ocpp: ocpp::WebsocketBase Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ocpp<span id="projectnumber">&#160;0.21.0</span>
   </div>
   <div id="projectbrief">A C++ implementation of the Open Charge Point Protocol</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>ocpp</b></li><li class="navelem"><a class="el" href="classocpp_1_1WebsocketBase.html">WebsocketBase</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classocpp_1_1WebsocketBase-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ocpp::WebsocketBase Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>contains a websocket abstraction  
 <a href="classocpp_1_1WebsocketBase.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="websocket__base_8hpp_source.html">websocket_base.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ocpp::WebsocketBase:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classocpp_1_1WebsocketBase.png" usemap="#ocpp::WebsocketBase_map" alt=""/>
  <map id="ocpp::WebsocketBase_map" name="ocpp::WebsocketBase_map">
<area href="classocpp_1_1WebsocketLibwebsockets.html" title="Experimental libwebsockets TLS connection." alt="ocpp::WebsocketLibwebsockets" shape="rect" coords="0,56,189,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a88ea5245ba1c1c15682d65792d54a3bd"><td class="memItemLeft" align="right" valign="top"><a id="a88ea5245ba1c1c15682d65792d54a3bd" name="a88ea5245ba1c1c15682d65792d54a3bd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>WebsocketBase</b> ()</td></tr>
<tr class="memdesc:a88ea5245ba1c1c15682d65792d54a3bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new <a class="el" href="classocpp_1_1WebsocketBase.html" title="contains a websocket abstraction">WebsocketBase</a> object. The <code>connection_options</code> must be initialised with <code><a class="el" href="classocpp_1_1WebsocketBase.html#a737772ab03e2574931ad6e89b30b733e" title="sets this connection_options to the given connection_options and resets the connection_attempts">set_connection_options()</a></code> <br /></td></tr>
<tr class="separator:a88ea5245ba1c1c15682d65792d54a3bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6704d017d1f6f29c1002f507366fafd6"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1WebsocketBase.html#a6704d017d1f6f29c1002f507366fafd6">connect</a> ()=0</td></tr>
<tr class="memdesc:a6704d017d1f6f29c1002f507366fafd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">connect to a websocket  <a href="classocpp_1_1WebsocketBase.html#a6704d017d1f6f29c1002f507366fafd6">More...</a><br /></td></tr>
<tr class="separator:a6704d017d1f6f29c1002f507366fafd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a737772ab03e2574931ad6e89b30b733e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1WebsocketBase.html#a737772ab03e2574931ad6e89b30b733e">set_connection_options</a> (const <a class="el" href="structocpp_1_1WebsocketConnectionOptions.html">WebsocketConnectionOptions</a> &amp;connection_options)=0</td></tr>
<tr class="memdesc:a737772ab03e2574931ad6e89b30b733e"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets this connection_options to the given <code>connection_options</code> and resets the connection_attempts  <a href="classocpp_1_1WebsocketBase.html#a737772ab03e2574931ad6e89b30b733e">More...</a><br /></td></tr>
<tr class="separator:a737772ab03e2574931ad6e89b30b733e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17146e0cf305eaf47fbedd4cbae186a0"><td class="memItemLeft" align="right" valign="top"><a id="a17146e0cf305eaf47fbedd4cbae186a0" name="a17146e0cf305eaf47fbedd4cbae186a0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_connection_options_base</b> (const <a class="el" href="structocpp_1_1WebsocketConnectionOptions.html">WebsocketConnectionOptions</a> &amp;connection_options)</td></tr>
<tr class="separator:a17146e0cf305eaf47fbedd4cbae186a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a0001b13bdcf754b1bc124d0a23629e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1WebsocketBase.html#a8a0001b13bdcf754b1bc124d0a23629e">reconnect</a> (long delay)=0</td></tr>
<tr class="memdesc:a8a0001b13bdcf754b1bc124d0a23629e"><td class="mdescLeft">&#160;</td><td class="mdescRight">reconnect the websocket after the delay  <a href="classocpp_1_1WebsocketBase.html#a8a0001b13bdcf754b1bc124d0a23629e">More...</a><br /></td></tr>
<tr class="separator:a8a0001b13bdcf754b1bc124d0a23629e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4af58a43b79dfdccb7ba557c80132591"><td class="memItemLeft" align="right" valign="top"><a id="a4af58a43b79dfdccb7ba557c80132591" name="a4af58a43b79dfdccb7ba557c80132591"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>disconnect</b> (const WebsocketCloseReason code)</td></tr>
<tr class="memdesc:a4af58a43b79dfdccb7ba557c80132591"><td class="mdescLeft">&#160;</td><td class="mdescRight">disconnect the websocket <br /></td></tr>
<tr class="separator:a4af58a43b79dfdccb7ba557c80132591"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbe5f0684dbff328655afcf9e56374aa"><td class="memItemLeft" align="right" valign="top"><a id="afbe5f0684dbff328655afcf9e56374aa" name="afbe5f0684dbff328655afcf9e56374aa"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_connected</b> ()</td></tr>
<tr class="memdesc:afbe5f0684dbff328655afcf9e56374aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">indicates if the websocket is connected <br /></td></tr>
<tr class="separator:afbe5f0684dbff328655afcf9e56374aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af035c4e35cb0a6d4be311a955c61c940"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1WebsocketBase.html#af035c4e35cb0a6d4be311a955c61c940">close</a> (const WebsocketCloseReason code, const std::string &amp;reason)=0</td></tr>
<tr class="memdesc:af035c4e35cb0a6d4be311a955c61c940"><td class="mdescLeft">&#160;</td><td class="mdescRight">closes the websocket  <a href="classocpp_1_1WebsocketBase.html#af035c4e35cb0a6d4be311a955c61c940">More...</a><br /></td></tr>
<tr class="separator:af035c4e35cb0a6d4be311a955c61c940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6bf674f5f867426444281cf0667b49c"><td class="memItemLeft" align="right" valign="top"><a id="ae6bf674f5f867426444281cf0667b49c" name="ae6bf674f5f867426444281cf0667b49c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>register_connected_callback</b> (const std::function&lt; void(const int security_profile)&gt; &amp;callback)</td></tr>
<tr class="memdesc:ae6bf674f5f867426444281cf0667b49c"><td class="mdescLeft">&#160;</td><td class="mdescRight">register a <code>callback</code> that is called when the websocket is connected successfully <br /></td></tr>
<tr class="separator:ae6bf674f5f867426444281cf0667b49c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6595fe11bf188d4f0ed0fc2dec7b4e3"><td class="memItemLeft" align="right" valign="top"><a id="aa6595fe11bf188d4f0ed0fc2dec7b4e3" name="aa6595fe11bf188d4f0ed0fc2dec7b4e3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>register_disconnected_callback</b> (const std::function&lt; void()&gt; &amp;callback)</td></tr>
<tr class="memdesc:aa6595fe11bf188d4f0ed0fc2dec7b4e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">register a <code>callback</code> that is called when the websocket connection is disconnected <br /></td></tr>
<tr class="separator:aa6595fe11bf188d4f0ed0fc2dec7b4e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4832ef9d1cf1dceda32f951207bc93f1"><td class="memItemLeft" align="right" valign="top"><a id="a4832ef9d1cf1dceda32f951207bc93f1" name="a4832ef9d1cf1dceda32f951207bc93f1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>register_closed_callback</b> (const std::function&lt; void(const WebsocketCloseReason reason)&gt; &amp;callback)</td></tr>
<tr class="memdesc:a4832ef9d1cf1dceda32f951207bc93f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">register a <code>callback</code> that is called when the websocket connection has been closed and will not attempt to reconnect <br /></td></tr>
<tr class="separator:a4832ef9d1cf1dceda32f951207bc93f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a694d8f9e792c2b058233021ed12be14d"><td class="memItemLeft" align="right" valign="top"><a id="a694d8f9e792c2b058233021ed12be14d" name="a694d8f9e792c2b058233021ed12be14d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>register_message_callback</b> (const std::function&lt; void(const std::string &amp;message)&gt; &amp;callback)</td></tr>
<tr class="memdesc:a694d8f9e792c2b058233021ed12be14d"><td class="mdescLeft">&#160;</td><td class="mdescRight">register a <code>callback</code> that is called when the websocket receives a message <br /></td></tr>
<tr class="separator:a694d8f9e792c2b058233021ed12be14d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aeed25c374398fc5698290208ec6240"><td class="memItemLeft" align="right" valign="top"><a id="a0aeed25c374398fc5698290208ec6240" name="a0aeed25c374398fc5698290208ec6240"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>register_connection_failed_callback</b> (const std::function&lt; void(ConnectionFailedReason)&gt; &amp;callback)</td></tr>
<tr class="memdesc:a0aeed25c374398fc5698290208ec6240"><td class="mdescLeft">&#160;</td><td class="mdescRight">register a <code>callback</code> that is called when the websocket could not connect with a specific reason <br /></td></tr>
<tr class="separator:a0aeed25c374398fc5698290208ec6240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d398b188dbd7b78f86771375b1458cf"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1WebsocketBase.html#a9d398b188dbd7b78f86771375b1458cf">send</a> (const std::string &amp;message)=0</td></tr>
<tr class="memdesc:a9d398b188dbd7b78f86771375b1458cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">send a <code>message</code> over the websocket  <a href="classocpp_1_1WebsocketBase.html#a9d398b188dbd7b78f86771375b1458cf">More...</a><br /></td></tr>
<tr class="separator:a9d398b188dbd7b78f86771375b1458cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4439d1c6cb0b7e17af65f5ba3e487a9"><td class="memItemLeft" align="right" valign="top"><a id="ad4439d1c6cb0b7e17af65f5ba3e487a9" name="ad4439d1c6cb0b7e17af65f5ba3e487a9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_websocket_ping_interval</b> (int32_t interval_s)</td></tr>
<tr class="memdesc:ad4439d1c6cb0b7e17af65f5ba3e487a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">starts a timer that sends a websocket ping at the given <code>interval_s</code> <br /></td></tr>
<tr class="separator:ad4439d1c6cb0b7e17af65f5ba3e487a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aa960d761119db7b529dc15a7bc816c"><td class="memItemLeft" align="right" valign="top"><a id="a2aa960d761119db7b529dc15a7bc816c" name="a2aa960d761119db7b529dc15a7bc816c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_authorization_key</b> (const std::string &amp;authorization_key)</td></tr>
<tr class="memdesc:a2aa960d761119db7b529dc15a7bc816c"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the <code>authorization_key</code> of the connection_options <br /></td></tr>
<tr class="separator:a2aa960d761119db7b529dc15a7bc816c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a4a5ab534315c83c74aa5a1932313a676"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1WebsocketBase.html#a4a5ab534315c83c74aa5a1932313a676">initialized</a> ()</td></tr>
<tr class="memdesc:a4a5ab534315c83c74aa5a1932313a676"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if the required callbacks are registered.  <a href="classocpp_1_1WebsocketBase.html#a4a5ab534315c83c74aa5a1932313a676">More...</a><br /></td></tr>
<tr class="separator:a4a5ab534315c83c74aa5a1932313a676"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b41ddaa46d15ce28e4a55f8f69b154e"><td class="memItemLeft" align="right" valign="top"><a id="a9b41ddaa46d15ce28e4a55f8f69b154e" name="a9b41ddaa46d15ce28e4a55f8f69b154e"></a>
std::optional&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>getAuthorizationHeader</b> ()</td></tr>
<tr class="memdesc:a9b41ddaa46d15ce28e4a55f8f69b154e"><td class="mdescLeft">&#160;</td><td class="mdescRight">getter for authorization header for connection with basic authentication <br /></td></tr>
<tr class="separator:a9b41ddaa46d15ce28e4a55f8f69b154e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a046c589fa838bd41fcf7dbbd29afc1bb"><td class="memItemLeft" align="right" valign="top"><a id="a046c589fa838bd41fcf7dbbd29afc1bb" name="a046c589fa838bd41fcf7dbbd29afc1bb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>log_on_fail</b> (const std::error_code &amp;ec, const boost::system::error_code &amp;transport_ec, const int http_status)</td></tr>
<tr class="memdesc:a046c589fa838bd41fcf7dbbd29afc1bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs websocket connection error. <br /></td></tr>
<tr class="separator:a046c589fa838bd41fcf7dbbd29afc1bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a343e1504814088e87c794784d20c0744"><td class="memItemLeft" align="right" valign="top"><a id="a343e1504814088e87c794784d20c0744" name="a343e1504814088e87c794784d20c0744"></a>
long&#160;</td><td class="memItemRight" valign="bottom"><b>get_reconnect_interval</b> ()</td></tr>
<tr class="memdesc:a343e1504814088e87c794784d20c0744"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates and returns the reconnect interval based on int retry_backoff_random_range_s, retry_backoff_repeat_times, int retry_backoff_wait_minimum_s of the <a class="el" href="structocpp_1_1WebsocketConnectionOptions.html">WebsocketConnectionOptions</a>. <br /></td></tr>
<tr class="separator:a343e1504814088e87c794784d20c0744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b7bfc5e206952b30d285d34d66ed238"><td class="memItemLeft" align="right" valign="top"><a id="a1b7bfc5e206952b30d285d34d66ed238" name="a1b7bfc5e206952b30d285d34d66ed238"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>cancel_reconnect_timer</b> ()</td></tr>
<tr class="separator:a1b7bfc5e206952b30d285d34d66ed238"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab64170cafa66b44743d31460a845b21e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classocpp_1_1WebsocketBase.html#ab64170cafa66b44743d31460a845b21e">ping</a> ()=0</td></tr>
<tr class="memdesc:ab64170cafa66b44743d31460a845b21e"><td class="mdescLeft">&#160;</td><td class="mdescRight">send a websocket ping  <a href="classocpp_1_1WebsocketBase.html#ab64170cafa66b44743d31460a845b21e">More...</a><br /></td></tr>
<tr class="separator:ab64170cafa66b44743d31460a845b21e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf3db5e82a2878afc9dc98637f0acd8d"><td class="memItemLeft" align="right" valign="top"><a id="acf3db5e82a2878afc9dc98637f0acd8d" name="acf3db5e82a2878afc9dc98637f0acd8d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>on_pong_timeout</b> (std::string msg)</td></tr>
<tr class="memdesc:acf3db5e82a2878afc9dc98637f0acd8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a websocket pong timeout is received. <br /></td></tr>
<tr class="separator:acf3db5e82a2878afc9dc98637f0acd8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ad39e696469d71c2458fb129b43aa0832"><td class="memItemLeft" align="right" valign="top"><a id="ad39e696469d71c2458fb129b43aa0832" name="ad39e696469d71c2458fb129b43aa0832"></a>
std::atomic_bool&#160;</td><td class="memItemRight" valign="bottom"><b>m_is_connected</b></td></tr>
<tr class="separator:ad39e696469d71c2458fb129b43aa0832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cfb35606a75a437adbfeb9bfa51e46a"><td class="memItemLeft" align="right" valign="top"><a id="a0cfb35606a75a437adbfeb9bfa51e46a" name="a0cfb35606a75a437adbfeb9bfa51e46a"></a>
<a class="el" href="structocpp_1_1WebsocketConnectionOptions.html">WebsocketConnectionOptions</a>&#160;</td><td class="memItemRight" valign="bottom"><b>connection_options</b></td></tr>
<tr class="separator:a0cfb35606a75a437adbfeb9bfa51e46a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fb7bd40fbfa00fbfcc5a709b844bee2"><td class="memItemLeft" align="right" valign="top"><a id="a3fb7bd40fbfa00fbfcc5a709b844bee2" name="a3fb7bd40fbfa00fbfcc5a709b844bee2"></a>
std::function&lt; void(const int security_profile)&gt;&#160;</td><td class="memItemRight" valign="bottom"><b>connected_callback</b></td></tr>
<tr class="separator:a3fb7bd40fbfa00fbfcc5a709b844bee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a408b865a31ef9534d02209988474fe07"><td class="memItemLeft" align="right" valign="top"><a id="a408b865a31ef9534d02209988474fe07" name="a408b865a31ef9534d02209988474fe07"></a>
std::function&lt; void()&gt;&#160;</td><td class="memItemRight" valign="bottom"><b>disconnected_callback</b></td></tr>
<tr class="separator:a408b865a31ef9534d02209988474fe07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36958250eb3149db5d35ee9016acacb1"><td class="memItemLeft" align="right" valign="top"><a id="a36958250eb3149db5d35ee9016acacb1" name="a36958250eb3149db5d35ee9016acacb1"></a>
std::function&lt; void(const WebsocketCloseReason reason)&gt;&#160;</td><td class="memItemRight" valign="bottom"><b>closed_callback</b></td></tr>
<tr class="separator:a36958250eb3149db5d35ee9016acacb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89d4fff8bccb7a4aa1cfd6e5290256fe"><td class="memItemLeft" align="right" valign="top"><a id="a89d4fff8bccb7a4aa1cfd6e5290256fe" name="a89d4fff8bccb7a4aa1cfd6e5290256fe"></a>
std::function&lt; void(const std::string &amp;message)&gt;&#160;</td><td class="memItemRight" valign="bottom"><b>message_callback</b></td></tr>
<tr class="separator:a89d4fff8bccb7a4aa1cfd6e5290256fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96bb20156da683bd20a851df0d48366e"><td class="memItemLeft" align="right" valign="top"><a id="a96bb20156da683bd20a851df0d48366e" name="a96bb20156da683bd20a851df0d48366e"></a>
std::function&lt; void(ConnectionFailedReason)&gt;&#160;</td><td class="memItemRight" valign="bottom"><b>connection_failed_callback</b></td></tr>
<tr class="separator:a96bb20156da683bd20a851df0d48366e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e568fc9bbae42923d5928fcb5aa9493"><td class="memItemLeft" align="right" valign="top"><a id="a2e568fc9bbae42923d5928fcb5aa9493" name="a2e568fc9bbae42923d5928fcb5aa9493"></a>
std::shared_ptr&lt; boost::asio::steady_timer &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>reconnect_timer</b></td></tr>
<tr class="separator:a2e568fc9bbae42923d5928fcb5aa9493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae072d0b2f7dc667084325b156ba0a7d6"><td class="memItemLeft" align="right" valign="top"><a id="ae072d0b2f7dc667084325b156ba0a7d6" name="ae072d0b2f7dc667084325b156ba0a7d6"></a>
std::unique_ptr&lt; Everest::SteadyTimer &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>ping_timer</b></td></tr>
<tr class="separator:ae072d0b2f7dc667084325b156ba0a7d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66959f73ddd06ac5bebc503cc3d30844"><td class="memItemLeft" align="right" valign="top"><a id="a66959f73ddd06ac5bebc503cc3d30844" name="a66959f73ddd06ac5bebc503cc3d30844"></a>
std::mutex&#160;</td><td class="memItemRight" valign="bottom"><b>reconnect_mutex</b></td></tr>
<tr class="separator:a66959f73ddd06ac5bebc503cc3d30844"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55094619b254db281397d5e917aad509"><td class="memItemLeft" align="right" valign="top"><a id="a55094619b254db281397d5e917aad509" name="a55094619b254db281397d5e917aad509"></a>
std::mutex&#160;</td><td class="memItemRight" valign="bottom"><b>connection_mutex</b></td></tr>
<tr class="separator:a55094619b254db281397d5e917aad509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40322aa4d29ac1112f89954e09e1290f"><td class="memItemLeft" align="right" valign="top"><a id="a40322aa4d29ac1112f89954e09e1290f" name="a40322aa4d29ac1112f89954e09e1290f"></a>
std::atomic_int&#160;</td><td class="memItemRight" valign="bottom"><b>reconnect_backoff_ms</b></td></tr>
<tr class="separator:a40322aa4d29ac1112f89954e09e1290f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71a770a5f82fd491bfe9a2d8befba493"><td class="memItemLeft" align="right" valign="top"><a id="a71a770a5f82fd491bfe9a2d8befba493" name="a71a770a5f82fd491bfe9a2d8befba493"></a>
std::atomic_int&#160;</td><td class="memItemRight" valign="bottom"><b>connection_attempts</b></td></tr>
<tr class="separator:a71a770a5f82fd491bfe9a2d8befba493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8180e2465a375397bd73977a36017e2a"><td class="memItemLeft" align="right" valign="top"><a id="a8180e2465a375397bd73977a36017e2a" name="a8180e2465a375397bd73977a36017e2a"></a>
std::atomic_bool&#160;</td><td class="memItemRight" valign="bottom"><b>shutting_down</b></td></tr>
<tr class="separator:a8180e2465a375397bd73977a36017e2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04d0e7f00a626cc6afe551e74bb5afb7"><td class="memItemLeft" align="right" valign="top"><a id="a04d0e7f00a626cc6afe551e74bb5afb7" name="a04d0e7f00a626cc6afe551e74bb5afb7"></a>
std::atomic_bool&#160;</td><td class="memItemRight" valign="bottom"><b>reconnecting</b></td></tr>
<tr class="separator:a04d0e7f00a626cc6afe551e74bb5afb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >contains a websocket abstraction </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="af035c4e35cb0a6d4be311a955c61c940" name="af035c4e35cb0a6d4be311a955c61c940"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af035c4e35cb0a6d4be311a955c61c940">&#9670;&nbsp;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ocpp::WebsocketBase::close </td>
          <td>(</td>
          <td class="paramtype">const WebsocketCloseReason&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>closes the websocket </p>

<p>Implemented in <a class="el" href="classocpp_1_1WebsocketLibwebsockets.html#ac1ad9e44cb9d14d9dae3e3e38494f640">ocpp::WebsocketLibwebsockets</a>.</p>

</div>
</div>
<a id="a6704d017d1f6f29c1002f507366fafd6" name="a6704d017d1f6f29c1002f507366fafd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6704d017d1f6f29c1002f507366fafd6">&#9670;&nbsp;</a></span>connect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool ocpp::WebsocketBase::connect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>connect to a websocket </p>
<dl class="section return"><dt>Returns</dt><dd>true if the websocket is initialized and a connection attempt is made </dd></dl>

<p>Implemented in <a class="el" href="classocpp_1_1WebsocketLibwebsockets.html#aca3526d26c0a17db1f8f963c9ed52d09">ocpp::WebsocketLibwebsockets</a>.</p>

</div>
</div>
<a id="a4a5ab534315c83c74aa5a1932313a676" name="a4a5ab534315c83c74aa5a1932313a676"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a5ab534315c83c74aa5a1932313a676">&#9670;&nbsp;</a></span>initialized()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ocpp::WebsocketBase::initialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates if the required callbacks are registered. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the websocket is properly initialized </dd></dl>

</div>
</div>
<a id="ab64170cafa66b44743d31460a845b21e" name="ab64170cafa66b44743d31460a845b21e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab64170cafa66b44743d31460a845b21e">&#9670;&nbsp;</a></span>ping()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ocpp::WebsocketBase::ping </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>send a websocket ping </p>

<p>Implemented in <a class="el" href="classocpp_1_1WebsocketLibwebsockets.html#af138429118ea610d012256e09c532602">ocpp::WebsocketLibwebsockets</a>.</p>

</div>
</div>
<a id="a8a0001b13bdcf754b1bc124d0a23629e" name="a8a0001b13bdcf754b1bc124d0a23629e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a0001b13bdcf754b1bc124d0a23629e">&#9670;&nbsp;</a></span>reconnect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ocpp::WebsocketBase::reconnect </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>delay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>reconnect the websocket after the delay </p>

<p>Implemented in <a class="el" href="classocpp_1_1WebsocketLibwebsockets.html#a4d36f585cfc8c87291d508e6f2566b40">ocpp::WebsocketLibwebsockets</a>.</p>

</div>
</div>
<a id="a9d398b188dbd7b78f86771375b1458cf" name="a9d398b188dbd7b78f86771375b1458cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d398b188dbd7b78f86771375b1458cf">&#9670;&nbsp;</a></span>send()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool ocpp::WebsocketBase::send </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>send a <code>message</code> over the websocket </p>
<dl class="section return"><dt>Returns</dt><dd>true if the message was sent successfully </dd></dl>

<p>Implemented in <a class="el" href="classocpp_1_1WebsocketLibwebsockets.html#a746e18983b863f817c52ca4e22dbca6b">ocpp::WebsocketLibwebsockets</a>.</p>

</div>
</div>
<a id="a737772ab03e2574931ad6e89b30b733e" name="a737772ab03e2574931ad6e89b30b733e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a737772ab03e2574931ad6e89b30b733e">&#9670;&nbsp;</a></span>set_connection_options()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ocpp::WebsocketBase::set_connection_options </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structocpp_1_1WebsocketConnectionOptions.html">WebsocketConnectionOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>connection_options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>sets this connection_options to the given <code>connection_options</code> and resets the connection_attempts </p>

<p>Implemented in <a class="el" href="classocpp_1_1WebsocketLibwebsockets.html#ae0164cf03920c252bf921f0351a04bb7">ocpp::WebsocketLibwebsockets</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/ocpp/common/websocket/<a class="el" href="websocket__base_8hpp_source.html">websocket_base.hpp</a></li>
<li>lib/ocpp/common/websocket/websocket_base.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
