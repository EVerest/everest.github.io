
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>How To: Write tests for your module &#8212; EVerest  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinxdoc.css" />
    <link rel="stylesheet" type="text/css" href="_static/contentui.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/contentui.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">EVerest  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">How To: Write tests for your module</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="how-to-write-tests-for-your-module">
<h1>How To: Write tests for your module<a class="headerlink" href="#how-to-write-tests-for-your-module" title="Permalink to this headline">¶</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>While working on your module you want to test your implemented functions. For this purpose we uses pythons unittests.
In the following you will see a simple example how to use them.</p>
<section id="create-a-new-test-file">
<h3>1. Create a new test file<a class="headerlink" href="#create-a-new-test-file" title="Permalink to this headline">¶</a></h3>
<p>Go to your module directory and create a new file. This file name must start with “<a href="#id1"><span class="problematic" id="id2">test_</span></a>”.
Maybe you want store different tests in different files. Your test file includes other python modules which lay
in various directory levels. You should put your file in the same level/directory as the highest included python module.</p>
</section>
<section id="this-must-contain-each-test-file">
<h3>2. This must contain each test file<a class="headerlink" href="#this-must-contain-each-test-file" title="Permalink to this headline">¶</a></h3>
<p>Your test file should contain the follwing structure, it is important naming the class “Test”:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">import</span> <span class="nn">unittest</span>
<span class="linenos">2</span><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="k">class</span> <span class="nc">Test</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">IsolatedAsyncioTestCase</span><span class="p">):</span>
</pre></div>
</div>
</section>
<section id="implement-a-unittest">
<h3>3. Implement a unittest<a class="headerlink" href="#implement-a-unittest" title="Permalink to this headline">¶</a></h3>
<p>After you created the TestCase you can start adding single tests, see also the <a class="reference external" href="https://docs.python.org/3/library/unittest.html">offical python doc</a>.
Here you can see an example test file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span> <span class="nn">unittest</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="k">class</span> <span class="nc">Test</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">IsolatedAsyncioTestCase</span><span class="p">):</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span>    <span class="k">def</span> <span class="nf">test_simple_example</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 7</span>        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span>    <span class="k">def</span> <span class="nf">test_another_example</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">10</span>        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="linenos">11</span>
<span class="linenos">12</span>    <span class="nd">@unittest</span><span class="o">.</span><span class="n">expectedFailure</span>
<span class="linenos">13</span>    <span class="k">def</span> <span class="nf">test_true_is_not_false</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">14</span>        <span class="bp">self</span><span class="o">.</span><span class="n">assertFalse</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">15</span>
<span class="linenos">16</span>    <span class="k">async</span> <span class="k">def</span> <span class="nf">test_example_with_async</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos">17</span>        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">18</span>        <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="running-your-tests">
<h3>5. Running your tests<a class="headerlink" href="#running-your-tests" title="Permalink to this headline">¶</a></h3>
<p>A pushed test will be ran by the github action for pull requests and pushes in the main branch.</p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">How To: Write tests for your module</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a><ul>
<li><a class="reference internal" href="#create-a-new-test-file">1. Create a new test file</a></li>
<li><a class="reference internal" href="#this-must-contain-each-test-file">2. This must contain each test file</a></li>
<li><a class="reference internal" href="#implement-a-unittest">3. Implement a unittest</a></li>
<li><a class="reference internal" href="#running-your-tests">5. Running your tests</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/doc_tutorial_2_write_tests_for_module.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">EVerest  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">How To: Write tests for your module</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Pionix GmbH.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.3.1.
    </div>
  </body>
</html>