<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>10.1.8. EvseManager &#8212; EVerest  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinxdoc.css?v=0a676766" />
    <link rel="stylesheet" type="text/css" href="../../_static/contentui.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../_static/contentui.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="10.1.9. EvseSlac" href="EvseSlac.html" />
    <link rel="prev" title="10.1.7. EvSlac" href="EvSlac.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="EvseSlac.html" title="10.1.9. EvseSlac"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="EvSlac.html" title="10.1.7. EvSlac"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">EVerest  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../appendix/01_everest_reference/index.html" ><span class="section-number">10. </span>EVerest Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../appendix/01_everest_reference/modules.html" accesskey="U"><span class="section-number">10.1. </span>EVerest Modules</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">10.1.8. </span>EvseManager</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="evsemanager">
<span id="everest-modules-evsemanager"></span><h1><span class="section-number">10.1.8. </span>EvseManager<a class="headerlink" href="#evsemanager" title="Permalink to this heading">¶</a></h1>
<div class="line-block">
<div class="line">EVSE Manager. Grid side power meter: Will be used for energy management. Will also be used for billing if no car side power meter connected. Car side powermeter: Will be used for billing if present.</div>
</div>
<p>For a detailed handwritten documentation see <a class="reference internal" href="../../_included/modules_doc/EvseManager.html#everest-modules-handwritten-evsemanager"><span class="std std-ref">here</span></a></p>
<section id="module-configuration">
<h2><span class="section-number">10.1.8.1. </span>Module Configuration<a class="headerlink" href="#module-configuration" title="Permalink to this heading">¶</a></h2>
<div class="line-block">
<div class="line"><strong>connector_id</strong>:<em>integer</em></div>
<div class="line-block">
<div class="line">Connector id of this evse manager</div>
</div>
<div class="line"><strong>evse_id</strong>:<em>string</em></div>
<div class="line"><em>default: DE*PNX*E1234567*1</em></div>
<div class="line-block">
<div class="line">EVSE ID</div>
</div>
<div class="line"><strong>evse_id_din</strong>:<em>string</em></div>
<div class="line"><em>default: 49A80737A45678</em></div>
<div class="line-block">
<div class="line">EVSE ID DIN after DIN SPEC 91286</div>
</div>
<div class="line"><strong>payment_enable_eim</strong>:<em>boolean</em></div>
<div class="line"><em>default: True</em></div>
<div class="line-block">
<div class="line">Set to true to enable EIM (e.g. RFID card or mobile app) authorization</div>
</div>
<div class="line"><strong>payment_enable_contract</strong>:<em>boolean</em></div>
<div class="line"><em>default: True</em></div>
<div class="line-block">
<div class="line">Set to true to enable contract (aka plug and charge) authorization</div>
</div>
<div class="line"><strong>ac_nominal_voltage</strong>:<em>number</em></div>
<div class="line"><em>default: 230</em></div>
<div class="line-block">
<div class="line">Nominal AC voltage between phase and neutral in Volt</div>
</div>
<div class="line"><strong>ev_receipt_required</strong>:<em>boolean</em></div>
<div class="line"><em>default: False</em></div>
<div class="line-block">
<div class="line">Unsupported: request receipt from EV with HLC</div>
</div>
<div class="line"><strong>session_logging</strong>:<em>boolean</em></div>
<div class="line"><em>default: False</em></div>
<div class="line-block">
<div class="line">Enable/Disable session log file output</div>
</div>
<div class="line"><strong>session_logging_path</strong>:<em>string</em></div>
<div class="line"><em>default: /tmp</em></div>
<div class="line-block">
<div class="line">Output directory for session log files</div>
</div>
<div class="line"><strong>session_logging_xml</strong>:<em>boolean</em></div>
<div class="line"><em>default: True</em></div>
<div class="line-block">
<div class="line">Log full XML messages for HLC</div>
</div>
<div class="line"><strong>three_phases</strong>:<em>boolean</em></div>
<div class="line"><em>default: True</em></div>
<div class="line-block">
<div class="line">Limit to three phases (true) or one phase (false)</div>
</div>
<div class="line"><strong>has_ventilation</strong>:<em>boolean</em></div>
<div class="line"><em>default: True</em></div>
<div class="line-block">
<div class="line">Allow ventilated charging or not</div>
</div>
<div class="line"><strong>country_code</strong>:<em>string</em></div>
<div class="line"><em>default: DE</em></div>
<div class="line-block">
<div class="line">Country Code</div>
</div>
<div class="line"><strong>rcd_enabled</strong>:<em>boolean</em></div>
<div class="line"><em>default: True</em></div>
<div class="line-block">
<div class="line">Enable or disable RCD</div>
</div>
<div class="line"><strong>max_current_import_A</strong>:<em>number</em></div>
<div class="line"><em>default: 32</em></div>
<div class="line-block">
<div class="line">User configurable current limit for this EVSE in Ampere</div>
</div>
<div class="line"><strong>max_current_export_A</strong>:<em>number</em></div>
<div class="line"><em>default: 32</em></div>
<div class="line-block">
<div class="line">User configurable current limit for this EVSE in Ampere</div>
</div>
<div class="line"><strong>charge_mode</strong>:<em>string</em></div>
<div class="line"><em>default: AC</em></div>
<div class="line-block">
<div class="line">Select charging mode</div>
<div class="line">enum: AC, DC</div>
</div>
<div class="line"><strong>ac_hlc_enabled</strong>:<em>boolean</em></div>
<div class="line"><em>default: False</em></div>
<div class="line-block">
<div class="line">Enable or disable HLC (aka ISO15118) for AC mode</div>
</div>
<div class="line"><strong>ac_hlc_use_5percent</strong>:<em>boolean</em></div>
<div class="line"><em>default: False</em></div>
<div class="line-block">
<div class="line">Use 5 percent PWM signalling to try to enforce HLC on AC. Note that if EIM arrives before SLAC matching, we will fall back to nominal PWM charging. So most cars will never use HLC in this mode, especially on a free service where EIM is always available, but that is what ISO15118-2/-3 requires to be compliant - it wants to use HLC only for PnC and not for EIM.</div>
</div>
<div class="line"><strong>ac_enforce_hlc</strong>:<em>boolean</em></div>
<div class="line"><em>default: False</em></div>
<div class="line-block">
<div class="line">Combine with 5percent option to really enforce HLC even with EIM. It is not ISO15118-2/-3 compliant as it waits for matching even if EIM is available before SLAC reaches matched state. On cars that do not support ISO15118 on AC this will take a very long time to timeout and fall back to basic nominal PWM charging, but it will eventually.</div>
</div>
<div class="line"><strong>ac_with_soc</strong>:<em>boolean</em></div>
<div class="line"><em>default: False</em></div>
<div class="line-block">
<div class="line">Special mode that switches between AC and DC charging to get SoC percentage with AC charging</div>
</div>
<div class="line"><strong>dc_isolation_voltage_V</strong>:<em>integer</em></div>
<div class="line"><em>default: 500</em></div>
<div class="line-block">
<div class="line">DC voltage used to test isolation in CableCheck. Set to 500V.</div>
</div>
<div class="line"><strong>dbg_hlc_auth_after_tstep</strong>:<em>boolean</em></div>
<div class="line"><em>default: False</em></div>
<div class="line-block">
<div class="line">Special mode: send HLC auth ok only after t_step_XX is finished (true) or directly when available (false)</div>
</div>
<div class="line"><strong>hack_sleep_in_cable_check</strong>:<em>integer</em></div>
<div class="line"><em>default: 0</em></div>
<div class="line-block">
<div class="line">Hack: Sleep for n seconds at the end of cable check.</div>
</div>
<div class="line"><strong>hack_sleep_in_cable_check_volkswagen</strong>:<em>integer</em></div>
<div class="line"><em>default: 0</em></div>
<div class="line-block">
<div class="line">Hack: Additional sleep for Volkswagen cars for n seconds at the end of cable check</div>
</div>
<div class="line"><strong>switch_to_minimum_voltage_after_cable_check</strong>:<em>boolean</em></div>
<div class="line"><em>default: False</em></div>
<div class="line-block">
<div class="line">When cable check is completed, switch to minimal voltage of DC output. Normally disabled.</div>
</div>
<div class="line"><strong>hack_skoda_enyaq</strong>:<em>boolean</em></div>
<div class="line"><em>default: False</em></div>
<div class="line-block">
<div class="line">Skoda Enyaq requests DC charging voltages below its battery level or even below 0 initially. Set to true to enable dirty workaround.</div>
</div>
<div class="line"><strong>hack_present_current_offset</strong>:<em>integer</em></div>
<div class="line"><em>default: 0</em></div>
<div class="line-block">
<div class="line">Adds an offset [A] to the present current reported to the car on HLC. Set to 0 unless you really know what you are doing.</div>
</div>
<div class="line"><strong>connector_type</strong>:<em>string</em></div>
<div class="line"><em>default: IEC62196Type2Cable</em></div>
<div class="line-block">
<div class="line">Type of charging connector available at this EVSE</div>
<div class="line">enum: IEC62196Type2Cable, IEC62196Type2Socket</div>
</div>
<div class="line"><strong>hack_pause_imd_during_precharge</strong>:<em>boolean</em></div>
<div class="line"><em>default: False</em></div>
<div class="line-block">
<div class="line">Disable IMD at the end of CableCheck and re-enable when current is flowing in CurrentDemand. Some DCDC power supplies do not start current flow when insulation measurement is active. Set to true to enable dirty workaround for some IMD hardware.</div>
</div>
<div class="line"><strong>hack_allow_bpt_with_iso2</strong>:<em>boolean</em></div>
<div class="line"><em>default: False</em></div>
<div class="line-block">
<div class="line">Hack. Allow bidirectional power transfer with DIN spec and ISO-2. Currents communicated on HLC will always be positive but power supply may actually discharge the car.</div>
</div>
<div class="line"><strong>autocharge_use_slac_instead_of_hlc</strong>:<em>boolean</em></div>
<div class="line"><em>default: False</em></div>
<div class="line-block">
<div class="line">Use slac ev mac address for autocharge instead of EVCCID from HLC</div>
</div>
<div class="line"><strong>logfile_suffix</strong>:<em>string</em></div>
<div class="line"><em>default: session_uuid</em></div>
<div class="line-block">
<div class="line">Use the string given for the log folder name. Special string session_uuid will be replaced with session uuid.</div>
</div>
<div class="line"><strong>soft_over_current_tolerance_percent</strong>:<em>number</em></div>
<div class="line"><em>default: 10.0</em></div>
<div class="line-block">
<div class="line">Allow for N percent over current in soft over current checking during AC charging.</div>
</div>
<div class="line"><strong>soft_over_current_measurement_noise_A</strong>:<em>number</em></div>
<div class="line"><em>default: 0.5</em></div>
<div class="line-block">
<div class="line">Set current measurement noise. Added to limit as an offset to avoid false triggers.</div>
</div>
<div class="line"><strong>hack_fix_hlc_integer_current_requests</strong>:<em>boolean</em></div>
<div class="line"><em>default: False</em></div>
<div class="line-block">
<div class="line">Some cars request only integer ampere values during DC charging. For low power DC charging that  means that they charge a few hundred watts slower then needed. If enabled, this will charge at full power if the difference between EV requested current (integer) and HLC current limit is less then 1.0</div>
</div>
</div>
</section>
<section id="provides">
<h2><span class="section-number">10.1.8.2. </span>Provides<a class="headerlink" href="#provides" title="Permalink to this heading">¶</a></h2>
<div class="line-block">
<div class="line"><strong>evse</strong>:<a class="reference internal" href="../interfaces/evse_manager.html#everest-interfaces-evse-manager"><span class="std std-ref">evse_manager</span></a></div>
<div class="line-block">
<div class="line">This is the main evsemanager interface</div>
</div>
<div class="line"><strong>energy_grid</strong>:<a class="reference internal" href="../interfaces/energy.html#everest-interfaces-energy"><span class="std std-ref">energy</span></a></div>
<div class="line-block">
<div class="line">This is the tree leaf interface to build the energy supply tree</div>
</div>
<div class="line"><strong>token_provider</strong>:<a class="reference internal" href="../interfaces/auth_token_provider.html#everest-interfaces-auth-token-provider"><span class="std std-ref">auth_token_provider</span></a></div>
<div class="line-block">
<div class="line">Provides authtokens for autocharge or plug and charge</div>
</div>
</div>
</section>
<section id="requirements">
<h2><span class="section-number">10.1.8.3. </span>Requirements<a class="headerlink" href="#requirements" title="Permalink to this heading">¶</a></h2>
<div class="line-block">
<div class="line"><strong>bsp</strong>:<a class="reference internal" href="../interfaces/board_support_AC.html#everest-interfaces-board-support-ac"><span class="std std-ref">board_support_AC</span></a></div>
<div class="line"><strong>powermeter_grid_side</strong>:<a class="reference internal" href="../interfaces/powermeter.html#everest-interfaces-powermeter"><span class="std std-ref">powermeter</span></a></div>
<div class="line"><strong>powermeter_car_side</strong>:<a class="reference internal" href="../interfaces/powermeter.html#everest-interfaces-powermeter"><span class="std std-ref">powermeter</span></a></div>
<div class="line"><strong>slac</strong>:<a class="reference internal" href="../interfaces/slac.html#everest-interfaces-slac"><span class="std std-ref">slac</span></a></div>
<div class="line"><strong>hlc</strong>:<a class="reference internal" href="../interfaces/ISO15118_charger.html#everest-interfaces-iso15118-charger"><span class="std std-ref">ISO15118_charger</span></a></div>
<div class="line"><strong>imd</strong>:<a class="reference internal" href="../interfaces/isolation_monitor.html#everest-interfaces-isolation-monitor"><span class="std std-ref">isolation_monitor</span></a></div>
<div class="line"><strong>powersupply_DC</strong>:<a class="reference internal" href="../interfaces/power_supply_DC.html#everest-interfaces-power-supply-dc"><span class="std std-ref">power_supply_DC</span></a></div>
</div>
</section>
<section id="metadata">
<h2><span class="section-number">10.1.8.4. </span>Metadata<a class="headerlink" href="#metadata" title="Permalink to this heading">¶</a></h2>
<section id="authors">
<h3><span class="section-number">10.1.8.4.1. </span>Authors<a class="headerlink" href="#authors" title="Permalink to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Cornelius Claussen</div>
<div class="line">Anton Woellert</div>
</div>
</section>
<section id="license">
<h3><span class="section-number">10.1.8.4.2. </span>License<a class="headerlink" href="#license" title="Permalink to this heading">¶</a></h3>
<div class="line-block">
<div class="line"><a class="reference external" href="https://spdx.org/licenses/Apache-2.0.html">https://spdx.org/licenses/Apache-2.0.html</a></div>
</div>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../general/01_framework.html">1. EVerest framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/02_detail_pre_setup.html">2. Prepare Your Development Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/03_quick_start_guide.html">3. A Kind Of Quick Guide To EVerest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/04_detail_module_concept.html">4. EVerest Module Concept</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/05_existing_modules.html">5. EVerest Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev_tools/index.html">6. EVerest development tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">7. Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware/pionix_belay_box.html">8. Pionix BelayBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/02_snapshot.html">9. Snapshot</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../appendix/01_everest_reference/index.html">10. EVerest Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../appendix/01_everest_reference/modules.html">10.1. EVerest Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendix/01_everest_reference/interfaces.html">10.2. EVerest Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendix/01_everest_reference/types.html">10.3. EVerest Types</a></li>
</ul>
</li>
</ul>

  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="EvSlac.html"
                          title="previous chapter"><span class="section-number">10.1.7. </span>EvSlac</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="EvseSlac.html"
                          title="next chapter"><span class="section-number">10.1.9. </span>EvseSlac</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/_generated/modules/EvseManager.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div><h3>Community</h3>
<ul class="nav nav-sidebar">
<li><a href="https://lists.lfenergy.org/g/everest" target="_blank"><img src="../../_static/icons/mail.svg" style="height: 0.8em" /> Get Support</a></li>
<li><a href="https://www.youtube.com/@lfe_everest" target="_blank"><img src="../../_static/icons/youtube.svg" style="height: 0.8em" /> YouTube Channel</a></li>
<li><a href="https://twitter.com/everestincharge" target="_blank"><img src="../../_static/icons/twitter.svg" style="height: 0.8em" /> Twitter</a></li>
<li><a href="https://fosstodon.org/@EVerest" target="_blank">Mastodon</a></li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="EvseSlac.html" title="10.1.9. EvseSlac"
             >next</a> |</li>
        <li class="right" >
          <a href="EvSlac.html" title="10.1.7. EvSlac"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">EVerest  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../appendix/01_everest_reference/index.html" ><span class="section-number">10. </span>EVerest Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../appendix/01_everest_reference/modules.html" ><span class="section-number">10.1. </span>EVerest Modules</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">10.1.8. </span>EvseManager</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2021, Pionix GmbH.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    </div>
  </body>
</html>