
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>13.1.33. EvseSlac &#8212; EVerest  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinxdoc.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/contentui.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/contentui.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="13.1.34. EvseV2G" href="EvseV2G.html" />
    <link rel="prev" title="13.1.32. EvseSecurity" href="EvseSecurity.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="EvseV2G.html" title="13.1.34. EvseV2G"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="EvseSecurity.html" title="13.1.32. EvseSecurity"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">EVerest  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../appendix/01_everest_reference/index.html" ><span class="section-number">13. </span>EVerest Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../appendix/01_everest_reference/modules.html" accesskey="U"><span class="section-number">13.1. </span>EVerest Modules</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">13.1.33. </span>EvseSlac</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="evseslac">
<span id="everest-modules-evseslac"></span><h1><span class="section-number">13.1.33. </span>EvseSlac<a class="headerlink" href="#evseslac" title="Permalink to this heading">¶</a></h1>
<div class="line-block">
<div class="line">Implementation of SLAC data link negotiation according to ISO15118-3.</div>
</div>
<p>For a detailed handwritten documentation see <span class="xref std std-ref">here</span></p>
<section id="provides">
<h2><span class="section-number">13.1.33.1. </span>Provides<a class="headerlink" href="#provides" title="Permalink to this heading">¶</a></h2>
<div class="line-block">
<div class="line"><strong>main</strong>:<a class="reference internal" href="../interfaces/slac.html#everest-interfaces-slac"><span class="std std-ref">slac</span></a></div>
<div class="line-block">
<div class="line">SLAC interface implementation.</div>
<div class="line">config:</div>
<div class="line-block">
<div class="line">device:</div>
<div class="line-block">
<div class="line">description:Ethernet device used for PLC.</div>
<div class="line">type:string</div>
<div class="line">default:eth1</div>
</div>
<div class="line">number_of_sounds:</div>
<div class="line-block">
<div class="line">description:SLAC number of sounds.</div>
<div class="line">type:integer</div>
</div>
<div class="line">ac_mode_five_percent:</div>
<div class="line-block">
<div class="line">description:Use AC 5% mode according to ISO15118-3. This restarts SLAC sessions if they fail according to the standard. The standard only allows the retries for AC, not for DC. However, it is strongly recommended to always set this option to true, also for DC, otherwise some EVs in the field will fail to do SLAC frequently.</div>
<div class="line">type:boolean</div>
</div>
<div class="line">set_key_timeout_ms:</div>
<div class="line-block">
<div class="line">description:Timeout for CM_SET_KEY.REQ. Default works for QCA7000/QCA7005/CG5317.</div>
<div class="line">type:integer</div>
</div>
<div class="line">sounding_attenuation_adjustment:</div>
<div class="line-block">
<div class="line">description:Offset in dB that should be added to the calculated sounding attenuation</div>
<div class="line">type:integer</div>
</div>
<div class="line">publish_mac_on_match_cnf:</div>
<div class="line-block">
<div class="line">description:Publish the EV MAC address on the token_provider interface when matching is confirmed (CM_SLAC_MATCH.CNF). This can be used for autocharge as an alternative to the EVCCID derived from HLC and published by EvseManager.  This can be used for AC autocharge on cars that do not support actual HLC on AC.</div>
<div class="line">type:boolean</div>
</div>
<div class="line">publish_mac_on_first_parm_req:</div>
<div class="line-block">
<div class="line">description:Publish the EV MAC address when the first CM_SLAC_PARM.REQ. This should not be used as it is quite error prone: The MAC address might be from another car via cross talk. It is better to wait for the matching to be done.</div>
<div class="line">type:boolean</div>
</div>
<div class="line">do_chip_reset:</div>
<div class="line-block">
<div class="line">description:Perform a chip reset after setting NMK using the RS_DEV.REQ Vendor MME Extension (Only works on Qualcomm chips)</div>
<div class="line">type:boolean</div>
</div>
<div class="line">chip_reset_delay_ms:</div>
<div class="line-block">
<div class="line">description:Delay between SET_KEY.CNF and RS_DEV.REQ</div>
<div class="line">type:integer</div>
</div>
<div class="line">chip_reset_timeout_ms:</div>
<div class="line-block">
<div class="line">description:Timeout for RS_DEV.REQ (waiting for RS_DEV.CNF)</div>
<div class="line">type:integer</div>
</div>
<div class="line">link_status_detection:</div>
<div class="line-block">
<div class="line">description:After matching.cnf, wait for link to come up before sending out d_link_ready=connected using LINK_STATUS Vendor MME Extension (Works on Qualcomm and Lumissil chips)</div>
<div class="line">type:boolean</div>
</div>
<div class="line">link_status_retry_ms:</div>
<div class="line-block">
<div class="line">description:Delay between retries of LINK_STATUS requests after matching request</div>
<div class="line">type:integer</div>
</div>
<div class="line">link_status_timeout_ms:</div>
<div class="line-block">
<div class="line">description:Timeout for Link to come up after matching request</div>
<div class="line">type:integer</div>
</div>
<div class="line">debug_simulate_failed_matching:</div>
<div class="line-block">
<div class="line">description:Only for debugging. Simulate failed matching by sending a wrong NMK to the EV.</div>
<div class="line">type:boolean</div>
</div>
<div class="line">reset_instead_of_fail:</div>
<div class="line-block">
<div class="line">description:Go to reset state instead of failed state. This is against the ISO15118-3. But some cars directly send a CM_SLAC_PARAM.req message when the SLAC process aborts. To react to this message and restart the SLAC process, the EVSE go to the reset state here.</div>
<div class="line">type:boolean</div>
</div>
</div>
<div class="line">config:</div>
<div class="line-block">
<div class="line"><strong>device</strong>:<em>string</em> &lt;optional&gt;</div>
<div class="line"><em>default: “eth1”</em></div>
<div class="line-block">
<div class="line">Ethernet device used for PLC.</div>
</div>
<div class="line"><strong>number_of_sounds</strong>:<em>integer</em> &lt;optional&gt;</div>
<div class="line"><em>default: 10</em></div>
<div class="line-block">
<div class="line">SLAC number of sounds.</div>
</div>
<div class="line"><strong>ac_mode_five_percent</strong>:<em>boolean</em> &lt;optional&gt;</div>
<div class="line"><em>default: True</em></div>
<div class="line-block">
<div class="line">Use AC 5% mode according to ISO15118-3. This restarts SLAC sessions if they fail according to the standard. The standard only allows the retries for AC, not for DC. However, it is strongly recommended to always set this option to true, also for DC, otherwise some EVs in the field will fail to do SLAC frequently.</div>
</div>
<div class="line"><strong>set_key_timeout_ms</strong>:<em>integer</em> &lt;optional&gt;</div>
<div class="line"><em>default: 1000</em></div>
<div class="line-block">
<div class="line">Timeout for CM_SET_KEY.REQ. Default works for QCA7000/QCA7005/CG5317.</div>
</div>
<div class="line"><strong>sounding_attenuation_adjustment</strong>:<em>integer</em> &lt;optional&gt;</div>
<div class="line"><em>default: 0</em></div>
<div class="line-block">
<div class="line">Offset in dB that should be added to the calculated sounding attenuation</div>
</div>
<div class="line"><strong>publish_mac_on_match_cnf</strong>:<em>boolean</em> &lt;optional&gt;</div>
<div class="line"><em>default: True</em></div>
<div class="line-block">
<div class="line">Publish the EV MAC address on the token_provider interface when matching is confirmed (CM_SLAC_MATCH.CNF). This can be used for autocharge as an alternative to the EVCCID derived from HLC and published by EvseManager.  This can be used for AC autocharge on cars that do not support actual HLC on AC.</div>
</div>
<div class="line"><strong>publish_mac_on_first_parm_req</strong>:<em>boolean</em> &lt;optional&gt;</div>
<div class="line"><em>default: False</em></div>
<div class="line-block">
<div class="line">Publish the EV MAC address when the first CM_SLAC_PARM.REQ. This should not be used as it is quite error prone: The MAC address might be from another car via cross talk. It is better to wait for the matching to be done.</div>
</div>
<div class="line"><strong>do_chip_reset</strong>:<em>boolean</em> &lt;optional&gt;</div>
<div class="line"><em>default: False</em></div>
<div class="line-block">
<div class="line">Perform a chip reset after setting NMK using the RS_DEV.REQ Vendor MME Extension (Only works on Qualcomm chips)</div>
</div>
<div class="line"><strong>chip_reset_delay_ms</strong>:<em>integer</em> &lt;optional&gt;</div>
<div class="line"><em>default: 100</em></div>
<div class="line-block">
<div class="line">Delay between SET_KEY.CNF and RS_DEV.REQ</div>
</div>
<div class="line"><strong>chip_reset_timeout_ms</strong>:<em>integer</em> &lt;optional&gt;</div>
<div class="line"><em>default: 500</em></div>
<div class="line-block">
<div class="line">Timeout for RS_DEV.REQ (waiting for RS_DEV.CNF)</div>
</div>
<div class="line"><strong>link_status_detection</strong>:<em>boolean</em> &lt;optional&gt;</div>
<div class="line"><em>default: False</em></div>
<div class="line-block">
<div class="line">After matching.cnf, wait for link to come up before sending out d_link_ready=connected using LINK_STATUS Vendor MME Extension (Works on Qualcomm and Lumissil chips)</div>
</div>
<div class="line"><strong>link_status_retry_ms</strong>:<em>integer</em> &lt;optional&gt;</div>
<div class="line"><em>default: 100</em></div>
<div class="line-block">
<div class="line">Delay between retries of LINK_STATUS requests after matching request</div>
</div>
<div class="line"><strong>link_status_timeout_ms</strong>:<em>integer</em> &lt;optional&gt;</div>
<div class="line"><em>default: 10000</em></div>
<div class="line-block">
<div class="line">Timeout for Link to come up after matching request</div>
</div>
<div class="line"><strong>debug_simulate_failed_matching</strong>:<em>boolean</em> &lt;optional&gt;</div>
<div class="line"><em>default: False</em></div>
<div class="line-block">
<div class="line">Only for debugging. Simulate failed matching by sending a wrong NMK to the EV.</div>
</div>
<div class="line"><strong>reset_instead_of_fail</strong>:<em>boolean</em> &lt;optional&gt;</div>
<div class="line"><em>default: True</em></div>
<div class="line-block">
<div class="line">Go to reset state instead of failed state. This is against the ISO15118-3. But some cars directly send a CM_SLAC_PARAM.req message when the SLAC process aborts. To react to this message and restart the SLAC process, the EVSE go to the reset state here.</div>
</div>
</div>
</div>
</div>
</section>
<section id="metadata">
<h2><span class="section-number">13.1.33.2. </span>Metadata<a class="headerlink" href="#metadata" title="Permalink to this heading">¶</a></h2>
<section id="authors">
<h3><span class="section-number">13.1.33.2.1. </span>Authors<a class="headerlink" href="#authors" title="Permalink to this heading">¶</a></h3>
<div class="line-block">
<div class="line"><a class="reference external" href="mailto:aw&#37;&#52;&#48;pionix&#46;de">aw<span>&#64;</span>pionix<span>&#46;</span>de</a></div>
<div class="line">Cornelius Claussen (Pionix GmbH)</div>
</div>
</section>
<section id="license">
<h3><span class="section-number">13.1.33.2.2. </span>License<a class="headerlink" href="#license" title="Permalink to this heading">¶</a></h3>
<div class="line-block">
<div class="line"><a class="reference external" href="https://opensource.org/licenses/Apache-2.0">https://opensource.org/licenses/Apache-2.0</a></div>
</div>
</section>
<section id="misc">
<h3><span class="section-number">13.1.33.2.3. </span>Misc<a class="headerlink" href="#misc" title="Permalink to this heading">¶</a></h3>
<div class="line-block">
<div class="line">base_license:<a class="reference external" href="https://directory.fsf.org/wiki/License:BSD-3-Clause-Clear">https://directory.fsf.org/wiki/License:BSD-3-Clause-Clear</a></div>
</div>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../general/01_framework/index.html">1. EVerest Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/02_detail_pre_setup.html">2. Prepare Your Development Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/03_quick_start_guide.html">3. A Kind Of Quick Guide To EVerest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/04_detail_module_concept.html">4. EVerest Modules in Detail</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/05_existing_modules.html">5. EVerest Module Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/06_handling_bank_cards.html">6. Bank Card Payment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/07_configure_plug_and_charge.html">7. Configure Plug&amp;Charge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev_tools/index.html">8. EVerest development tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">9. Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/faq.html">10. Frequently Asked Questions And Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware/pionix_belay_box.html">11. Pionix BelayBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendix/02_snapshot.html">12. Snapshot</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../appendix/01_everest_reference/index.html">13. EVerest Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../appendix/01_everest_reference/modules.html">13.1. EVerest Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendix/01_everest_reference/interfaces.html">13.2. EVerest Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendix/01_everest_reference/types.html">13.3. EVerest Types</a></li>
</ul>
</li>
</ul>

  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="EvseSecurity.html"
                          title="previous chapter"><span class="section-number">13.1.32. </span>EvseSecurity</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="EvseV2G.html"
                          title="next chapter"><span class="section-number">13.1.34. </span>EvseV2G</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/_generated/modules/EvseSlac.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div><h3>Community</h3>
<ul class="nav nav-sidebar">
<li><a href="https://lists.lfenergy.org/g/everest" target="_blank"><img src="../../_static/icons/mail.svg" style="height: 0.8em" /> Get Support</a></li>
<li><a href="https://www.youtube.com/@lfe_everest" target="_blank"><img src="../../_static/icons/youtube.svg" style="height: 0.8em" /> YouTube Channel</a></li>
<li><a href="https://twitter.com/everestincharge" target="_blank"><img src="../../_static/icons/twitter.svg" style="height: 0.8em" /> Twitter</a></li>
<li><a href="https://fosstodon.org/@EVerest" target="_blank">Mastodon</a></li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="EvseV2G.html" title="13.1.34. EvseV2G"
             >next</a> |</li>
        <li class="right" >
          <a href="EvseSecurity.html" title="13.1.32. EvseSecurity"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">EVerest  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../appendix/01_everest_reference/index.html" ><span class="section-number">13. </span>EVerest Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../appendix/01_everest_reference/modules.html" ><span class="section-number">13.1. </span>EVerest Modules</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">13.1.33. </span>EvseSlac</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Pionix GmbH.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>